(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ikWF:function(e,t,c){"use strict";c.r(t),c.d(t,"TeachersModule",function(){return y});var i=c("ofXK"),r=c("3Pt+"),n=c("tyNb"),s=c("0IaG"),a=c("fXoL");let o=(()=>{class e{constructor(e,t,c){this.dialogRef=e,this.data=t,this.formBuilder=c}ngOnInit(){this.teacher=this.data.model}onRejectClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(s.e),a.Pb(s.a),a.Pb(r.d))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-teacher-preview"]],decls:51,vars:15,consts:[[1,"col-md-12","col-center","text-center"],[1,"card"],[1,"card-body","row"],[1,"card","col-md-3"],[1,"card-body"],["alt","Sample image",1,"img-thumbnail","img-fluid",3,"src"],[2,"text-align","center"],["id","statusHolder"],[1,"card","col-md-6"],[2,"text-align","left"],[1,"course"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Qb(2,"br"),a.Vb(3,"h2"),a.Mc(4),a.Ub(),a.Vb(5,"div",2),a.Vb(6,"div",3),a.Vb(7,"div",4),a.Qb(8,"img",5),a.Vb(9,"div",6),a.Qb(10,"br"),a.Vb(11,"p",7),a.Mc(12,"Status: "),a.Vb(13,"span"),a.Mc(14),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(15,"div",8),a.Vb(16,"div",4),a.Vb(17,"h4",6),a.Mc(18),a.Ub(),a.Qb(19,"hr"),a.Vb(20,"div",9),a.Vb(21,"h5"),a.Vb(22,"b"),a.Mc(23,"Email :"),a.Ub(),a.Mc(24),a.Ub(),a.Vb(25,"h5"),a.Vb(26,"b"),a.Mc(27,"UserId :"),a.Ub(),a.Mc(28),a.Ub(),a.Vb(29,"h5"),a.Vb(30,"b"),a.Mc(31,"AccrNumber :"),a.Ub(),a.Mc(32),a.Ub(),a.Vb(33,"h5"),a.Vb(34,"b"),a.Mc(35,"Created on :"),a.Ub(),a.Mc(36),a.kc(37,"date"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(38,"div",3),a.Vb(39,"div",4),a.Vb(40,"h4"),a.Mc(41,"Lead Courses"),a.Ub(),a.Qb(42,"hr"),a.Vb(43,"div",10),a.Vb(44,"p"),a.Mc(45,"Course Name"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(46,"p"),a.Vb(47,"b"),a.Mc(48,"Last updated on :"),a.Ub(),a.Mc(49),a.kc(50,"date"),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Cb(4),a.Oc(" ",t.teacher.Name," "),a.Cb(4),a.qc("src",t.teacher.Image,a.Dc),a.Cb(6),a.Nc(t.teacher.Status),a.Cb(4),a.Oc("ID : ",t.teacher.Id," "),a.Cb(6),a.Oc(" ",t.teacher.Email," "),a.Cb(4),a.Oc(" ",t.teacher.UserId," "),a.Cb(4),a.Oc(" ",t.teacher.AccrNumber," "),a.Cb(4),a.Oc(" ",a.mc(37,9,t.teacher.CreatedOn,"dd-MMM-yy")," "),a.Cb(13),a.Oc(" ",a.mc(50,12,t.teacher.ModifiedOn,"dd-MMM-yy"),""))},pipes:[i.e],styles:[".img-fluid[_ngcontent-%COMP%]{border:1px solid #000;height:10vw;width:80%;-o-object-fit:contain;object-fit:contain}@media only screen and (max-width:414px){.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5em}.card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}.card[_ngcontent-%COMP%]   #statusHolder[_ngcontent-%COMP%]{font-size:1.2em!important}.card[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{border:1px solid #000;height:20vw;width:100%;-o-object-fit:contain;object-fit:contain}}"]}),e})();var b=c("vzt6"),d=c("9e4Q"),h=c("Wp6s"),l=c("bTqV");let u=(()=>{class e{constructor(e,t,c,i){this.dialogRef=e,this.data=t,this.teacherService=c,this.errorHandlerService=i,this.teachers=new Array,this.loading=!1,this.totalTeachers=0}ngOnInit(){this.loading=!0}dismiss(){this.dialogRef.close()}vote(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(s.e),a.Pb(s.a),a.Pb(b.a),a.Pb(d.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-vote-for-teacher"]],decls:23,vars:1,consts:[[1,"text-center"],[1,""],["mat-raised-button","","color","primary",1,"mr-2",3,"click"],[1,"rating"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"mat-card-content"),a.Vb(2,"div",1),a.Vb(3,"h4"),a.Mc(4,"If you like this teacher - hit the star below."),a.Ub(),a.Qb(5,"hr"),a.Vb(6,"h5"),a.Mc(7,"Reward "),a.Ub(),a.Vb(8,"h5"),a.Mc(9),a.Ub(),a.Vb(10,"h5"),a.Mc(11," with "),a.Vb(12,"span"),a.Mc(13,"\u2b50"),a.Ub(),a.Ub(),a.Qb(14,"br"),a.Vb(15,"p"),a.Mc(16,"Vote is anonymous!"),a.Ub(),a.Qb(17,"hr"),a.Vb(18,"div",0),a.Vb(19,"button",2),a.fc("click",function(){return t.vote()}),a.Vb(20,"div",3),a.Vb(21,"span"),a.Mc(22,"\u2606"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Cb(9),a.Nc(t.data.model.TeacherName))},directives:[h.a,l.a],styles:['@charset "UTF-8";.rating[_ngcontent-%COMP%]{unicode-bidi:bidi-override;direction:rtl;font-size:2em;color:#ff0}.rating[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover:before, .rating[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]:before{content:"\u2605";position:absolute}']}),e})();var g=c("Pjly"),m=c("RCKm"),f=c("qC+V");function p(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",5),a.Vb(1,"div",6),a.Vb(2,"h1"),a.Mc(3),a.Ub(),a.Qb(4,"br"),a.Qb(5,"br"),a.Vb(6,"button",7),a.fc("click",function(){return a.Bc(e),a.jc().dismiss()}),a.Mc(7," Dismiss "),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=a.jc();a.Cb(3),a.Nc(e.successfulUpdateMessage)}}function M(e,t){if(1&e){const e=a.Wb();a.Vb(0,"button",16),a.fc("click",function(){a.Bc(e);const t=a.jc().$implicit;return a.jc().voteForTeacher(t.Id)}),a.Mc(1," Vote "),a.Ub()}}function v(e,t){if(1&e){const e=a.Wb();a.Vb(0,"div",8),a.Vb(1,"div",9),a.Vb(2,"div",10),a.Qb(3,"img",11),a.Qb(4,"br"),a.Qb(5,"br"),a.Vb(6,"h5"),a.Mc(7),a.Ub(),a.Qb(8,"hr"),a.Vb(9,"div",12),a.Vb(10,"span"),a.Mc(11,"\u2b50"),a.Ub(),a.Mc(12),a.Ub(),a.Qb(13,"hr"),a.Vb(14,"button",13),a.fc("click",function(){a.Bc(e);const c=t.$implicit;return a.jc().showTeacher(c.Id)}),a.Qb(15,"i",14),a.Ub(),a.Kc(16,M,2,0,"button",15),a.Ub(),a.Ub(),a.Ub()}if(2&e){const e=t.$implicit,c=a.jc();a.Cb(3),a.qc("src",e.Image,a.Dc),a.Cb(4),a.Nc(e.Name),a.Cb(5),a.Oc(" ",e.Stars," "),a.Cb(4),a.pc("ngIf",c.isLogged&&!c.notVotedYet(e.Id))}}const U=function(){return{backdropBorderRadius:"14px",fullScreenBackdrop:!0}};let V=(()=>{class e{constructor(e,t,c,i,r,n){this.dialog=e,this.errorHandlerService=t,this.router=c,this.teacherService=i,this.authService=r,this.userService=n,this.loading=!1,this.totalTeachers=0,this.teachers=new Array,this.successfulUpdate=!1,this.successfulUpdateMessage="",this.isLogged=!1}ngOnInit(){this.isLogged=this.authService.isAuthenticated(),this.loading=!0,this.getTeachers(),this.getUserByToken()}getUserByToken(){this.userService.getUserByToken().subscribe(e=>{this.user=e,console.log(this.user)},e=>{console.log(e)})}goToTeacher(e){this.router.navigate(["/teachers/"+e])}notVotedYet(e){let t=!0;return this.user.starredTeachers.forEach(c=>{c.Id===e&&(t=!1)}),t}showTeacher(e){let t;this.teachers.forEach(c=>{c.Id!==e||(t=c)}),this.dialog.open(o,{width:"80vw",maxHeight:"100vh",data:{model:t}}).afterClosed().subscribe()}voteForTeacher(e){this.loading=!0;let t="";this.teachers.forEach(c=>{c.Id!==e||(t=c.Name)});const c=this.dialog.open(u,{data:{width:"80vw",maxHeight:"100vh",model:{TeacherName:t}}});this.tryVoteForTeacher(c,e),this.loading=!1}tryVoteForTeacher(e,t){e.afterClosed().subscribe(e=>{!0===e&&this.teacherService.voteForTeacher({TeacherId:t}).subscribe(()=>{let e="";this.teachers.forEach(c=>{c.Id!==t||(e=c.Name)}),this.loading=!1,this.successfulUpdate=!0,this.successfulUpdateMessage=`You have successfully starred \u2b50 for ${e}!`},e=>{this.loading=!1,this.errorHandlerService.handleRequestError(e)})})}getTeachers(){this.loading=!0,this.teacherService.getTeachers().subscribe(e=>{e.body.forEach(e=>{this.teachers.push({Id:e.id||"",Email:e.email,Image:e.image||"",Name:e.name||"",UserId:e.user_id||"",AccrNumber:e.accr_number,Status:e.status||"",CreatedOn:e.created_on||"",ModifiedOn:e.modified_on||"",Courses:e.courses||"",Stars:e.stars||0})})},e=>{this.errorHandlerService.handleRequestError(e)},()=>{this.totalTeachers=this.teachers.length,this.loading=!1})}dismiss(){this.successfulUpdate=!1}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(s.b),a.Pb(d.a),a.Pb(n.b),a.Pb(b.a),a.Pb(g.a),a.Pb(m.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-teachers"]],decls:10,vars:6,consts:[[1,"text-center"],[1,"row"],["class","dim",4,"ngIf"],["class","col-md-3 text-center",4,"ngFor","ngForOf"],[3,"show","config"],[1,"dim"],[1,"msg"],[1,"btn","btn-outline-info",3,"click"],[1,"col-md-3","text-center"],[1,"card"],[1,"card-body"],["alt","Sample image",1,"img-thumbnail","img-fluid",3,"src"],[2,"font-size","1.2em"],["mat-raised-button","","color","primary",1,"text-center","ml-2",3,"click"],[1,"fas","fa-search"],["mat-raised-button","","class","text-center ml-2",3,"click",4,"ngIf"],["mat-raised-button","",1,"text-center","ml-2",3,"click"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"h3"),a.Mc(2,"Teachers"),a.Ub(),a.Vb(3,"p"),a.Mc(4),a.Ub(),a.Qb(5,"hr"),a.Ub(),a.Vb(6,"div",1),a.Kc(7,p,8,1,"div",2),a.Kc(8,v,17,4,"div",3),a.Ub(),a.Qb(9,"ngx-loading",4)),2&e&&(a.Cb(4),a.Oc("Total Of: ",t.totalTeachers,""),a.Cb(3),a.pc("ngIf",t.successfulUpdate),a.Cb(1),a.pc("ngForOf",t.teachers),a.Cb(1),a.pc("show",t.loading)("config",a.tc(5,U)))},directives:[i.m,i.l,f.a,l.a],styles:[".img-fluid[_ngcontent-%COMP%]{height:10vw;-o-object-fit:contain;object-fit:contain;border:1px solid #000}.dim[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10%}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1em}@media only screen and (max-width:414px){.dim[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}.card[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{height:35vw;-o-object-fit:contain;object-fit:contain;border:1px solid #000}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.2em}}"]}),e})();class C{constructor(e,t,c,i,r,n,s,a,o,b,d){this.Id=e,this.Email=t,this.Image=c,this.Name=i,this.UserId=r,this.AccrNumber=n,this.Status=s,this.CreatedOn=a,this.ModifiedOn=o,this.Courses=b,this.Stars=d}}const O=[{path:"",children:[{path:"",component:V},{path:":id",component:(()=>{class e{constructor(e,t,c){this.activatedRoute=e,this.errorHandlerService=t,this.teacherService=c,this.loading=!1}ngOnInit(){this.loading=!0,this.teacherService.getTeacherById(this.activatedRoute.snapshot.params.id).subscribe(e=>{this.teacher=new C(e.body.id)},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Pb(n.a),a.Pb(d.a),a.Pb(b.a))},e.\u0275cmp=a.Jb({type:e,selectors:[["app-teacher-details"]],decls:13,vars:4,consts:[[1,"row"],[1,"col-md-6","text-center"],[1,"col-md-6"],["src","../../../../../assets/images/no-image-found.jpg","alt","Sample image"],["type","button","routerLink","/teachers",1,"btn","btn-outline-info","ml-3"],[3,"show"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"h4"),a.Mc(3),a.Ub(),a.Vb(4,"h4"),a.Mc(5),a.Ub(),a.Vb(6,"h4"),a.Mc(7),a.Ub(),a.Ub(),a.Vb(8,"div",2),a.Qb(9,"img",3),a.Ub(),a.Vb(10,"button",4),a.Mc(11," Back To Teachers "),a.Ub(),a.Ub(),a.Qb(12,"ngx-loading",5)),2&e&&(a.Cb(3),a.Oc("Name: ",null==t.teacher?null:t.teacher.Name,""),a.Cb(2),a.Oc("Accreditation Number: ",null==t.teacher?null:t.teacher.Id,""),a.Cb(2),a.Oc("Teacher Status: ",null==t.teacher?null:t.teacher.Status,""),a.Cb(5),a.pc("show",t.loading))},directives:[n.c,f.a],encapsulation:2}),e})()}]}];let P=(()=>{class e{}return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[i.c,n.e.forChild(O)],n.e]}),e})();var w=c("w/ci");let y=(()=>{class e{}return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[i.c,P,w.a,r.q,f.b.forRoot({animationType:f.c.threeBounce,primaryColour:"#88078e",secondaryColour:"#c6ef23",backdropBorderRadius:"14px",fullScreenBackdrop:!0})]]}),e})()}}]);
//# sourceMappingURL=5-es2015.283ca01b208838de4bc7.js.map