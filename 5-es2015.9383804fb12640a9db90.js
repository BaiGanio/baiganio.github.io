(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ikWF:function(e,t,c){"use strict";c.r(t),c.d(t,"TeachersModule",function(){return w});var i=c("ofXK"),r=c("3Pt+"),n=c("tyNb"),s=c("0IaG"),o=c("fXoL");let a=(()=>{class e{constructor(e,t,c){this.dialogRef=e,this.data=t,this.formBuilder=c}ngOnInit(){this.teacher=this.data.model}onRejectClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(s.e),o.Ob(s.a),o.Ob(r.d))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-teacher-preview"]],decls:51,vars:15,consts:[[1,"col-md-12","col-center","text-center"],[1,"card"],[1,"card-body","row"],[1,"card","col-md-3"],[1,"card-body"],["alt","Sample image",1,"img-thumbnail","img-fluid",3,"src"],[2,"text-align","center"],["id","statusHolder"],[1,"card","col-md-6"],[2,"text-align","left"],[1,"course"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Pb(2,"br"),o.Ub(3,"h2"),o.Lc(4),o.Tb(),o.Ub(5,"div",2),o.Ub(6,"div",3),o.Ub(7,"div",4),o.Pb(8,"img",5),o.Ub(9,"div",6),o.Pb(10,"br"),o.Ub(11,"p",7),o.Lc(12,"Status: "),o.Ub(13,"span"),o.Lc(14),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(15,"div",8),o.Ub(16,"div",4),o.Ub(17,"h4",6),o.Lc(18),o.Tb(),o.Pb(19,"hr"),o.Ub(20,"div",9),o.Ub(21,"h5"),o.Ub(22,"b"),o.Lc(23,"Email :"),o.Tb(),o.Lc(24),o.Tb(),o.Ub(25,"h5"),o.Ub(26,"b"),o.Lc(27,"UserId :"),o.Tb(),o.Lc(28),o.Tb(),o.Ub(29,"h5"),o.Ub(30,"b"),o.Lc(31,"AccrNumber :"),o.Tb(),o.Lc(32),o.Tb(),o.Ub(33,"h5"),o.Ub(34,"b"),o.Lc(35,"Created on :"),o.Tb(),o.Lc(36),o.jc(37,"date"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(38,"div",3),o.Ub(39,"div",4),o.Ub(40,"h4"),o.Lc(41,"Lead Courses"),o.Tb(),o.Pb(42,"hr"),o.Ub(43,"div",10),o.Ub(44,"p"),o.Lc(45,"Course Name"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(46,"p"),o.Ub(47,"b"),o.Lc(48,"Last updated on :"),o.Tb(),o.Lc(49),o.jc(50,"date"),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Bb(4),o.Nc(" ",t.teacher.Name," "),o.Bb(4),o.pc("src",t.teacher.Image,o.Cc),o.Bb(6),o.Mc(t.teacher.Status),o.Bb(4),o.Nc("ID : ",t.teacher.Id," "),o.Bb(6),o.Nc(" ",t.teacher.Email," "),o.Bb(4),o.Nc(" ",t.teacher.UserId," "),o.Bb(4),o.Nc(" ",t.teacher.AccrNumber," "),o.Bb(4),o.Nc(" ",o.lc(37,9,t.teacher.CreatedOn,"dd-MMM-yy")," "),o.Bb(13),o.Nc(" ",o.lc(50,12,t.teacher.ModifiedOn,"dd-MMM-yy"),""))},pipes:[i.e],styles:[".img-fluid[_ngcontent-%COMP%]{border:1px solid #000;height:10vw;width:80%;-o-object-fit:contain;object-fit:contain}@media only screen and (max-width:414px){.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5em}.card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}.card[_ngcontent-%COMP%]   #statusHolder[_ngcontent-%COMP%]{font-size:1.2em!important}.card[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{border:1px solid #000;height:20vw;width:100%;-o-object-fit:contain;object-fit:contain}}"]}),e})();var b=c("vzt6"),d=c("9e4Q"),h=c("Wp6s"),l=c("bTqV");let u=(()=>{class e{constructor(e,t,c,i){this.dialogRef=e,this.data=t,this.teacherService=c,this.errorHandlerService=i,this.teachers=new Array,this.loading=!1,this.totalTeachers=0}ngOnInit(){this.loading=!0}dismiss(){this.dialogRef.close()}vote(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(s.e),o.Ob(s.a),o.Ob(b.a),o.Ob(d.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-vote-for-teacher"]],decls:23,vars:1,consts:[[1,"text-center"],[1,""],["mat-raised-button","","color","primary",1,"mr-2",3,"click"],[1,"rating"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"mat-card-content"),o.Ub(2,"div",1),o.Ub(3,"h4"),o.Lc(4,"If you like this teacher - hit the star below."),o.Tb(),o.Pb(5,"hr"),o.Ub(6,"h5"),o.Lc(7,"Reward "),o.Tb(),o.Ub(8,"h5"),o.Lc(9),o.Tb(),o.Ub(10,"h5"),o.Lc(11," with "),o.Ub(12,"span"),o.Lc(13,"\u2b50"),o.Tb(),o.Tb(),o.Pb(14,"br"),o.Ub(15,"p"),o.Lc(16,"Vote is anonymous!"),o.Tb(),o.Pb(17,"hr"),o.Ub(18,"div",0),o.Ub(19,"button",2),o.ec("click",function(){return t.vote()}),o.Ub(20,"div",3),o.Ub(21,"span"),o.Lc(22,"\u2606"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Bb(9),o.Mc(t.data.model.TeacherName))},directives:[h.a,l.a],styles:['@charset "UTF-8";.rating[_ngcontent-%COMP%]{unicode-bidi:bidi-override;direction:rtl;font-size:2em;color:#ff0}.rating[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover:before, .rating[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]:before{content:"\u2605";position:absolute}']}),e})();var g=c("Pjly"),m=c("RCKm"),f=c("qC+V");function T(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",5),o.Ub(1,"div",6),o.Ub(2,"h1"),o.Lc(3),o.Tb(),o.Pb(4,"br"),o.Pb(5,"br"),o.Ub(6,"button",7),o.ec("click",function(){return o.Ac(e),o.ic().dismiss()}),o.Lc(7," Dismiss "),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=o.ic();o.Bb(3),o.Mc(e.successfulUpdateMessage)}}function p(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",16),o.ec("click",function(){o.Ac(e);const t=o.ic().$implicit;return o.ic().voteForTeacher(t.Id)}),o.Lc(1," Vote "),o.Tb()}}function v(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",8),o.Ub(1,"div",9),o.Ub(2,"div",10),o.Pb(3,"img",11),o.Pb(4,"br"),o.Pb(5,"br"),o.Ub(6,"h5"),o.Lc(7),o.Tb(),o.Pb(8,"hr"),o.Ub(9,"div",12),o.Ub(10,"span"),o.Lc(11,"\u2b50"),o.Tb(),o.Lc(12),o.Tb(),o.Pb(13,"hr"),o.Ub(14,"button",13),o.ec("click",function(){o.Ac(e);const c=t.$implicit;return o.ic().showTeacher(c.Id)}),o.Pb(15,"i",14),o.Tb(),o.Jc(16,p,2,0,"button",15),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=t.$implicit,c=o.ic();o.Bb(3),o.pc("src",e.Image,o.Cc),o.Bb(4),o.Mc(e.Name),o.Bb(5),o.Nc(" ",e.Stars," "),o.Bb(4),o.oc("ngIf",c.isLogged&&!c.notVotedYet(e.Id))}}const U=function(){return{backdropBorderRadius:"14px",fullScreenBackdrop:!0}};let O=(()=>{class e{constructor(e,t,c,i,r,n){this.dialog=e,this.errorHandlerService=t,this.router=c,this.teacherService=i,this.authService=r,this.userService=n,this.loading=!1,this.totalTeachers=0,this.teachers=new Array,this.successfulUpdate=!1,this.successfulUpdateMessage="",this.isLogged=!1}ngOnInit(){this.isLogged=this.authService.isAuthenticated(),this.loading=!0,this.getTeachers(),this.getUserByToken()}getUserByToken(){this.userService.getUserByToken().subscribe(e=>{this.user=e.body,console.log(this.user)},e=>{console.log(e)})}goToTeacher(e){this.router.navigate(["/teachers/"+e])}notVotedYet(e){let t=!0;return this.user.starredTeachers.forEach(c=>{c.Id===e&&(t=!1)}),t}showTeacher(e){let t;this.teachers.forEach(c=>{c.Id!==e||(t=c)}),this.dialog.open(a,{width:"80vw",maxHeight:"100vh",data:{model:t}}).afterClosed().subscribe()}voteForTeacher(e){this.loading=!0;let t="";this.teachers.forEach(c=>{c.Id!==e||(t=c.Name)});const c=this.dialog.open(u,{data:{width:"80vw",maxHeight:"100vh",model:{TeacherName:t}}});this.tryVoteForTeacher(c,e),this.loading=!1}tryVoteForTeacher(e,t){e.afterClosed().subscribe(e=>{!0===e&&this.teacherService.voteForTeacher({TeacherId:t}).subscribe(()=>{let e="";this.teachers.forEach(c=>{c.Id!==t||(e=c.Name)}),this.loading=!1,this.successfulUpdate=!0,this.successfulUpdateMessage=`You have successfully starred \u2b50 for ${e}!`},e=>{this.loading=!1,this.errorHandlerService.handleRequestError(e)})})}getTeachers(){this.loading=!0,this.teacherService.getTeachers().subscribe(e=>{e.body.forEach(e=>{this.teachers.push({Id:e.id||"",Email:e.email,Image:e.image||"",Name:e.name||"",UserId:e.user_id||"",AccrNumber:e.accr_number,Status:e.status||"",CreatedOn:e.created_on||"",ModifiedOn:e.modified_on||"",Courses:e.courses||"",Stars:e.stars||0})})},e=>{this.errorHandlerService.handleRequestError(e)},()=>{this.totalTeachers=this.teachers.length,this.loading=!1})}dismiss(){this.successfulUpdate=!1}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(s.b),o.Ob(d.a),o.Ob(n.b),o.Ob(b.a),o.Ob(g.a),o.Ob(m.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-teachers"]],decls:10,vars:6,consts:[[1,"text-center"],[1,"row"],["class","dim",4,"ngIf"],["class","col-md-3 text-center",4,"ngFor","ngForOf"],[3,"show","config"],[1,"dim"],[1,"msg"],[1,"btn","btn-outline-info",3,"click"],[1,"col-md-3","text-center"],[1,"card"],[1,"card-body"],["alt","Sample image",1,"img-thumbnail","img-fluid",3,"src"],[2,"font-size","1.2em"],["mat-raised-button","","color","primary",1,"text-center","ml-2",3,"click"],[1,"fas","fa-search"],["mat-raised-button","","class","text-center ml-2",3,"click",4,"ngIf"],["mat-raised-button","",1,"text-center","ml-2",3,"click"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"h3"),o.Lc(2,"Teachers"),o.Tb(),o.Ub(3,"p"),o.Lc(4),o.Tb(),o.Pb(5,"hr"),o.Tb(),o.Ub(6,"div",1),o.Jc(7,T,8,1,"div",2),o.Jc(8,v,17,4,"div",3),o.Tb(),o.Pb(9,"ngx-loading",4)),2&e&&(o.Bb(4),o.Nc("Total Of: ",t.totalTeachers,""),o.Bb(3),o.oc("ngIf",t.successfulUpdate),o.Bb(1),o.oc("ngForOf",t.teachers),o.Bb(1),o.oc("show",t.loading)("config",o.sc(5,U)))},directives:[i.m,i.l,f.a,l.a],styles:[".img-fluid[_ngcontent-%COMP%]{height:10vw;-o-object-fit:contain;object-fit:contain;border:1px solid #000}.dim[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10%}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1em}@media only screen and (max-width:414px){.dim[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}.card[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{height:35vw;-o-object-fit:contain;object-fit:contain;border:1px solid #000}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.2em}}"]}),e})();class P{constructor(e,t,c,i,r,n,s,o,a,b,d){this.Id=e,this.Email=t,this.Image=c,this.Name=i,this.UserId=r,this.AccrNumber=n,this.Status=s,this.CreatedOn=o,this.ModifiedOn=a,this.Courses=b,this.Stars=d}}const M=[{path:"",children:[{path:"",component:O},{path:":id",component:(()=>{class e{constructor(e,t,c){this.activatedRoute=e,this.errorHandlerService=t,this.teacherService=c,this.loading=!1}ngOnInit(){this.loading=!0,this.teacherService.getTeacherById(this.activatedRoute.snapshot.params.id).subscribe(e=>{this.teacher=new P(e.body.id)},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(n.a),o.Ob(d.a),o.Ob(b.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-teacher-details"]],decls:13,vars:4,consts:[[1,"row"],[1,"col-md-6","text-center"],[1,"col-md-6"],["src","../../../../../assets/images/no-image-found.jpg","alt","Sample image"],["type","button","routerLink","/teachers",1,"btn","btn-outline-info","ml-3"],[3,"show"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"h4"),o.Lc(3),o.Tb(),o.Ub(4,"h4"),o.Lc(5),o.Tb(),o.Ub(6,"h4"),o.Lc(7),o.Tb(),o.Tb(),o.Ub(8,"div",2),o.Pb(9,"img",3),o.Tb(),o.Ub(10,"button",4),o.Lc(11," Back To Teachers "),o.Tb(),o.Tb(),o.Pb(12,"ngx-loading",5)),2&e&&(o.Bb(3),o.Nc("Name: ",null==t.teacher?null:t.teacher.Name,""),o.Bb(2),o.Nc("Accreditation Number: ",null==t.teacher?null:t.teacher.Id,""),o.Bb(2),o.Nc("Teacher Status: ",null==t.teacher?null:t.teacher.Status,""),o.Bb(5),o.oc("show",t.loading))},directives:[n.c,f.a],encapsulation:2}),e})()}]}];let C=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[i.c,n.e.forChild(M)],n.e]}),e})();var L=c("w/ci");let w=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[i.c,C,L.a,r.o,f.b.forRoot({animationType:f.c.threeBounce,primaryColour:"#88078e",secondaryColour:"#c6ef23",backdropBorderRadius:"14px",fullScreenBackdrop:!0})]]}),e})()}}]);
//# sourceMappingURL=5-es2015.9383804fb12640a9db90.js.map