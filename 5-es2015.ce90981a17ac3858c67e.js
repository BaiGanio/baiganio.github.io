(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ikWF:function(e,t,r){"use strict";r.r(t),r.d(t,"TeachersModule",function(){return ke});var i=r("ofXK"),o=r("3Pt+"),c=r("tyNb"),a=r("0IaG"),s=r("fXoL");let n=(()=>{class e{constructor(e,t,r){this.dialogRef=e,this.data=t,this.formBuilder=r}ngOnInit(){this.teacher=this.data.model}onRejectClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.e),s.Mb(a.a),s.Mb(o.d))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-teacher-preview"]],decls:51,vars:15,consts:[[1,"col-md-12","col-center","text-center"],[1,"card"],[1,"card-body","row"],[1,"card","col-md-3"],[1,"card-body"],["alt","Sample image",1,"img-thumbnail","img-fluid",3,"src"],[2,"text-align","center"],["id","statusHolder"],[1,"card","col-md-6"],[2,"text-align","left"],[1,"course"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Nb(2,"br"),s.Sb(3,"h2"),s.Ec(4),s.Rb(),s.Sb(5,"div",2),s.Sb(6,"div",3),s.Sb(7,"div",4),s.Nb(8,"img",5),s.Sb(9,"div",6),s.Nb(10,"br"),s.Sb(11,"p",7),s.Ec(12,"Status: "),s.Sb(13,"span"),s.Ec(14),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(15,"div",8),s.Sb(16,"div",4),s.Sb(17,"h4",6),s.Ec(18),s.Rb(),s.Nb(19,"hr"),s.Sb(20,"div",9),s.Sb(21,"h5"),s.Sb(22,"b"),s.Ec(23,"Email :"),s.Rb(),s.Ec(24),s.Rb(),s.Sb(25,"h5"),s.Sb(26,"b"),s.Ec(27,"UserId :"),s.Rb(),s.Ec(28),s.Rb(),s.Sb(29,"h5"),s.Sb(30,"b"),s.Ec(31,"AccrNumber :"),s.Rb(),s.Ec(32),s.Rb(),s.Sb(33,"h5"),s.Sb(34,"b"),s.Ec(35,"Created on :"),s.Rb(),s.Ec(36),s.ec(37,"date"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(38,"div",3),s.Sb(39,"div",4),s.Sb(40,"h4"),s.Ec(41,"Lead Courses"),s.Rb(),s.Nb(42,"hr"),s.Sb(43,"div",10),s.Sb(44,"p"),s.Ec(45,"Course Name"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(46,"p"),s.Sb(47,"b"),s.Ec(48,"Last updated on :"),s.Rb(),s.Ec(49),s.ec(50,"date"),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(4),s.Gc(" ",t.teacher.Name," "),s.Bb(4),s.kc("src",t.teacher.Image,s.vc),s.Bb(6),s.Fc(t.teacher.Status),s.Bb(4),s.Gc("ID : ",t.teacher.Id," "),s.Bb(6),s.Gc(" ",t.teacher.Email," "),s.Bb(4),s.Gc(" ",t.teacher.UserId," "),s.Bb(4),s.Gc(" ",t.teacher.AccrNumber," "),s.Bb(4),s.Gc(" ",s.gc(37,9,t.teacher.CreatedOn,"dd-MMM-yy")," "),s.Bb(13),s.Gc(" ",s.gc(50,12,t.teacher.ModifiedOn,"dd-MMM-yy"),""))},pipes:[i.e],styles:[".img-fluid[_ngcontent-%COMP%]{border:1px solid #000;height:10vw;width:80%;-o-object-fit:contain;object-fit:contain}@media only screen and (max-width:414px){.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5em}.card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}.card[_ngcontent-%COMP%]   #statusHolder[_ngcontent-%COMP%]{font-size:1.2em!important}.card[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{border:1px solid #000;height:20vw;width:100%;-o-object-fit:contain;object-fit:contain}}"]}),e})();var d=r("vzt6"),l=r("9e4Q"),b=r("Wp6s"),u=r("bTqV");let h=(()=>{class e{constructor(e,t,r,i){this.dialogRef=e,this.data=t,this.teacherService=r,this.errorHandlerService=i,this.teachers=new Array,this.loading=!1,this.totalTeachers=0}ngOnInit(){this.loading=!0}dismiss(){this.dialogRef.close()}vote(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.e),s.Mb(a.a),s.Mb(d.a),s.Mb(l.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-vote-for-teacher"]],decls:23,vars:1,consts:[[1,"text-center"],[1,""],["mat-raised-button","","color","primary",1,"mr-2",3,"click"],[1,"rating"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"mat-card-content"),s.Sb(2,"div",1),s.Sb(3,"h4"),s.Ec(4,"If you like this teacher - hit the star below."),s.Rb(),s.Nb(5,"hr"),s.Sb(6,"h5"),s.Ec(7,"Reward "),s.Rb(),s.Sb(8,"h5"),s.Ec(9),s.Rb(),s.Sb(10,"h5"),s.Ec(11," with "),s.Sb(12,"span"),s.Ec(13,"\u2b50"),s.Rb(),s.Rb(),s.Nb(14,"br"),s.Sb(15,"p"),s.Ec(16,"Vote is anonymous!"),s.Rb(),s.Nb(17,"hr"),s.Sb(18,"div",0),s.Sb(19,"button",2),s.Zb("click",function(){return t.vote()}),s.Sb(20,"div",3),s.Sb(21,"span"),s.Ec(22,"\u2606"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(9),s.Fc(t.data.model.TeacherName))},directives:[b.d,u.a],styles:['@charset "UTF-8";.rating[_ngcontent-%COMP%]{unicode-bidi:bidi-override;direction:rtl;font-size:2em;color:#ff0}.rating[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover:before, .rating[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]:before{content:"\u2605";position:absolute}']}),e})();var m=r("dNgK"),f=r("Pjly"),g=r("RCKm"),S=r("qC+V");function p(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",5),s.Sb(1,"div",6),s.Sb(2,"h1"),s.Ec(3),s.Rb(),s.Nb(4,"br"),s.Nb(5,"br"),s.Sb(6,"button",7),s.Zb("click",function(){return s.tc(e),s.dc().dismiss()}),s.Ec(7," Dismiss "),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=s.dc();s.Bb(3),s.Fc(e.successfulUpdateMessage)}}function C(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",16),s.Zb("click",function(){s.tc(e);const t=s.dc().$implicit;return s.dc().voteForTeacher(t.Id)}),s.Ec(1," Vote "),s.Rb()}}function R(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",8),s.Sb(1,"div",9),s.Sb(2,"div",10),s.Nb(3,"img",11),s.Nb(4,"br"),s.Nb(5,"br"),s.Sb(6,"h5"),s.Ec(7),s.Rb(),s.Nb(8,"hr"),s.Sb(9,"div",12),s.Sb(10,"span"),s.Ec(11,"\u2b50"),s.Rb(),s.Ec(12),s.Rb(),s.Nb(13,"hr"),s.Sb(14,"button",13),s.Zb("click",function(){s.tc(e);const r=t.$implicit;return s.dc().showTeacher(r.Id)}),s.Nb(15,"i",14),s.Rb(),s.Cc(16,C,2,0,"button",15),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=t.$implicit,r=s.dc();s.Bb(3),s.kc("src",e.Image,s.vc),s.Bb(4),s.Fc(e.Name),s.Bb(5),s.Gc(" ",e.Stars," "),s.Bb(4),s.jc("ngIf",r.isLogged&&!r.notVotedYet(e.Id))}}const v=function(){return{backdropBorderRadius:"14px",fullScreenBackdrop:!0}};let E=(()=>{class e{constructor(e,t,r,i,o,c,a){this.dialog=e,this.errorHandlerService=t,this.snackbar=r,this.router=i,this.teacherService=o,this.authService=c,this.userService=a,this.loading=!1,this.totalTeachers=0,this.teachers=new Array,this.successfulUpdate=!1,this.successfulUpdateMessage="",this.isLogged=!1}ngOnInit(){this.isLogged=this.authService.isAuthenticated(),this.loading=!0,this.getTeachers(),this.getUserByToken()}getUserByToken(){this.userService.getUserByToken().subscribe(e=>{this.user=e.body,console.log(this.user)},e=>{console.log(e)})}goToTeacher(e){this.router.navigate(["/teachers/"+e])}notVotedYet(e){let t=!0;return this.user.starredTeachers.forEach(r=>{r.Id===e&&(t=!1)}),t}showTeacher(e){let t;this.teachers.forEach(r=>{r.Id!==e||(t=r)}),this.dialog.open(n,{width:"80vw",maxHeight:"100vh",data:{model:t}}).afterClosed().subscribe()}voteForTeacher(e){this.loading=!0;let t="";this.teachers.forEach(r=>{r.Id!==e||(t=r.Name)});const r=this.dialog.open(h,{data:{width:"80vw",maxHeight:"100vh",model:{TeacherName:t}}});this.tryVoteForTeacher(r,e),this.loading=!1}tryVoteForTeacher(e,t){e.afterClosed().subscribe(e=>{!0===e&&this.teacherService.voteForTeacher({TeacherId:t}).subscribe(e=>{let r="";this.teachers.forEach(e=>{e.Id!==t||(r=e.Name)}),this.loading=!1,this.successfulUpdate=!0,this.successfulUpdateMessage=`You have successfully starred \u2b50 for ${r}!`},e=>{this.loading=!1,this.errorHandlerService.handleRequestError(e)})})}getTeachers(){this.loading=!0,this.teacherService.getTeachers().subscribe(e=>{e.body.forEach(e=>{this.teachers.push({Id:e.id||"",Email:e.email,Image:e.image||"",Name:e.name||"",UserId:e.user_id||"",AccrNumber:e.accr_number,Status:e.status||"",CreatedOn:e.created_on||"",ModifiedOn:e.modified_on||"",Courses:e.courses||"",Stars:e.stars||0})})},e=>{this.errorHandlerService.handleRequestError(e)},()=>{this.totalTeachers=this.teachers.length,this.loading=!1})}dismiss(){this.successfulUpdate=!1}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.b),s.Mb(l.a),s.Mb(m.a),s.Mb(c.b),s.Mb(d.a),s.Mb(f.a),s.Mb(g.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-teachers"]],decls:10,vars:6,consts:[[1,"text-center"],[1,"row"],["class","dim",4,"ngIf"],["class","col-md-3 text-center",4,"ngFor","ngForOf"],[3,"show","config"],[1,"dim"],[1,"msg"],[1,"btn","btn-outline-info",3,"click"],[1,"col-md-3","text-center"],[1,"card"],[1,"card-body"],["alt","Sample image",1,"img-thumbnail","img-fluid",3,"src"],[2,"font-size","1.2em"],["mat-raised-button","","color","primary",1,"text-center","ml-2",3,"click"],[1,"fas","fa-search"],["mat-raised-button","","class","text-center ml-2",3,"click",4,"ngIf"],["mat-raised-button","",1,"text-center","ml-2",3,"click"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"h3"),s.Ec(2,"Teachers"),s.Rb(),s.Sb(3,"p"),s.Ec(4),s.Rb(),s.Nb(5,"hr"),s.Rb(),s.Sb(6,"div",1),s.Cc(7,p,8,1,"div",2),s.Cc(8,R,17,4,"div",3),s.Rb(),s.Nb(9,"ngx-loading",4)),2&e&&(s.Bb(4),s.Gc("Total Of: ",t.totalTeachers,""),s.Bb(3),s.jc("ngIf",t.successfulUpdate),s.Bb(1),s.jc("ngForOf",t.teachers),s.Bb(1),s.jc("show",t.loading)("config",s.mc(5,v)))},directives:[i.l,i.k,S.a,u.a],styles:[".img-fluid[_ngcontent-%COMP%]{height:10vw;-o-object-fit:contain;object-fit:contain;border:1px solid #000}.dim[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10%}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1em}@media only screen and (max-width:414px){.dim[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}.card[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{height:35vw;-o-object-fit:contain;object-fit:contain;border:1px solid #000}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.2em}}"]}),e})();var N=r("0EQZ"),y=r("FvrZ"),I=r("8yBR"),w=r("t/G1"),M=r("bSwM"),k=r("kmnG"),T=r("qFsG"),P=r("NFeN");function O(e,t){if(1&e){const e=s.Tb();s.Sb(0,"mat-tree-node",3),s.Nb(1,"button",4),s.Sb(2,"mat-checkbox",5),s.Zb("change",function(){s.tc(e);const r=t.$implicit;return s.dc().todoLeafItemSelectionToggle(r)}),s.Ec(3),s.Rb(),s.Rb()}if(2&e){const e=t.$implicit,r=s.dc();s.Bb(2),s.jc("checked",r.checklistSelection.isSelected(e)),s.Bb(1),s.Fc(e.item)}}function _(e,t){if(1&e){const e=s.Tb();s.Sb(0,"mat-tree-node",6),s.Nb(1,"button",4),s.Sb(2,"mat-form-field"),s.Nb(3,"input",7,8),s.Rb(),s.Sb(5,"button",9),s.Zb("click",function(){s.tc(e);const r=t.$implicit,i=s.rc(4);return s.dc().saveNode(r,i.value)}),s.Ec(6,"Save"),s.Rb(),s.Rb()}}function B(e,t){if(1&e){const e=s.Tb();s.Sb(0,"mat-tree-node",6),s.Sb(1,"button",10),s.Sb(2,"mat-icon",11),s.Ec(3),s.Rb(),s.Rb(),s.Sb(4,"mat-checkbox",12),s.Zb("change",function(){s.tc(e);const r=t.$implicit;return s.dc().todoItemSelectionToggle(r)}),s.Ec(5),s.Rb(),s.Sb(6,"button",13),s.Zb("click",function(){s.tc(e);const r=t.$implicit;return s.dc().addNewItem(r)}),s.Sb(7,"mat-icon"),s.Ec(8,"add"),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=t.$implicit,r=s.dc();s.Bb(1),s.Cb("aria-label","toggle "+e.filename),s.Bb(2),s.Gc(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),s.Bb(1),s.jc("checked",r.descendantsAllSelected(e))("indeterminate",r.descendantsPartiallySelected(e)),s.Bb(1),s.Fc(e.item)}}let x=(()=>{class e{constructor(e){this._database=e,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new N.c(!0),this.getLevel=e=>e.level,this.isExpandable=e=>e.expandable,this.getChildren=e=>e.children,this.hasChild=(e,t)=>t.expandable,this.hasNoContent=(e,t)=>""===t.item,this.transformer=(e,t)=>{const r=this.nestedNodeMap.get(e),i=r&&r.item===e.item?r:new w.b;return i.item=e.item,i.level=t,i.expandable=!!e.children,this.flatNodeMap.set(i,e),this.nestedNodeMap.set(e,i),i},this.treeFlattener=new I.c(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new y.j(this.getLevel,this.isExpandable),this.dataSource=new I.b(this.treeControl,this.treeFlattener),e.dataChange.subscribe(e=>{this.dataSource.data=e})}ngOnInit(){}descendantsAllSelected(e){return this.treeControl.getDescendants(e).every(e=>this.checklistSelection.isSelected(e))}descendantsPartiallySelected(e){return this.treeControl.getDescendants(e).some(e=>this.checklistSelection.isSelected(e))&&!this.descendantsAllSelected(e)}todoItemSelectionToggle(e){this.checklistSelection.toggle(e);const t=this.treeControl.getDescendants(e);this.checklistSelection.isSelected(e)?this.checklistSelection.select(...t):this.checklistSelection.deselect(...t),t.every(e=>this.checklistSelection.isSelected(e)),this.checkAllParentsSelection(e)}todoLeafItemSelectionToggle(e){this.checklistSelection.toggle(e),this.checkAllParentsSelection(e)}checkAllParentsSelection(e){let t=this.getParentNode(e);for(;t;)this.checkRootNodeSelection(t),t=this.getParentNode(t)}checkRootNodeSelection(e){const t=this.checklistSelection.isSelected(e),r=this.treeControl.getDescendants(e).every(e=>this.checklistSelection.isSelected(e));t&&!r?this.checklistSelection.deselect(e):!t&&r&&this.checklistSelection.select(e)}getParentNode(e){const t=this.getLevel(e);if(t<1)return null;for(let r=this.treeControl.dataNodes.indexOf(e)-1;r>=0;r--){const e=this.treeControl.dataNodes[r];if(this.getLevel(e)<t)return e}return null}addNewItem(e){const t=this.flatNodeMap.get(e);this._database.insertItem(t,""),this.treeControl.expand(e)}saveNode(e,t){const r=this.flatNodeMap.get(e);this._database.updateItem(r,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(w.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-questionnaire"]],decls:16,vars:4,consts:[[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"checked","change"],["matTreeNodePadding",""],["matInput","","placeholder","New item..."],["itemValue",""],["mat-button","",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"],["mat-icon-button","",3,"click"]],template:function(e,t){1&e&&(s.Sb(0,"h3"),s.Ec(1," [course.Name] Questionnaire & selectable [q.Type]"),s.Rb(),s.Nb(2,"hr"),s.Nb(3,"br"),s.Sb(4,"h3"),s.Ec(5,"selectable [test.Type]"),s.Rb(),s.Nb(6,"hr"),s.Nb(7,"br"),s.Sb(8,"mat-tree",0),s.Cc(9,O,4,2,"mat-tree-node",1),s.Cc(10,_,7,0,"mat-tree-node",2),s.Cc(11,B,9,5,"mat-tree-node",2),s.Rb(),s.Nb(12,"br"),s.Nb(13,"hr"),s.Sb(14,"button"),s.Ec(15,"Update"),s.Rb()),2&e&&(s.Bb(8),s.jc("dataSource",t.dataSource)("treeControl",t.treeControl),s.Bb(2),s.jc("matTreeNodeDefWhen",t.hasNoContent),s.Bb(1),s.jc("matTreeNodeDefWhen",t.hasChild))},directives:[I.a,I.f,I.e,I.h,I.g,u.a,M.a,k.c,T.b,P.a],styles:[""]}),e})();const D=function(){return{backdropBorderRadius:"14px",fullScreenBackdrop:!0}};let F=(()=>{class e{constructor(e,t,r){this.dialog=e,this.snackbar=t,this.errorHandlerService=r,this.loading=!1}ngOnInit(){}addClassroom(){}addQuestionnaire(){this.dialog.open(x,{width:"40vw",autoFocus:!1})}addIPRangeAfterClosed(e){}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.b),s.Mb(m.a),s.Mb(l.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-craftsman-menu"]],decls:68,vars:3,consts:[[1,"text-left"],["mat-raised-button","","color","primary","routerLink","/dashboard",1,"m-2"],[1,"text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body"],[1,"card-title"],["mat-raised-button","","color","primary","routerLink","/teachers/craftsman-menu/courses",1,"mr-2"],[1,"far","fa-edit",2,"font-size","1.6em"],[1,"card-text"],["mat-raised-button","","color","primary",1,"mr-2",3,"click"],[1,"material-icons"],["color","primary","mat-raised-button","",1,"mr-2"],[1,"material-icons",2,"font-size","1.8em"],[3,"show","config"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"button",1),s.Ec(2,"Dashboard"),s.Rb(),s.Rb(),s.Sb(3,"div",2),s.Sb(4,"h1"),s.Ec(5,"Craftsman Menu"),s.Rb(),s.Rb(),s.Nb(6,"hr"),s.Sb(7,"div",3),s.Sb(8,"div",4),s.Sb(9,"div",5),s.Sb(10,"div",6),s.Sb(11,"h3",7),s.Sb(12,"b"),s.Ec(13,"C"),s.Rb(),s.Rb(),s.Sb(14,"span"),s.Ec(15,"* Create new courses from scratch "),s.Nb(16,"br"),s.Ec(17,"* Tailor existing courses however you want "),s.Nb(18,"br"),s.Ec(19,"* Keep track of your courses' statistics "),s.Rb(),s.Nb(20,"hr"),s.Sb(21,"button",8),s.Nb(22,"i",9),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(23,"div",4),s.Sb(24,"div",5),s.Sb(25,"div",6),s.Sb(26,"h3",7),s.Sb(27,"b"),s.Ec(28,"Q"),s.Rb(),s.Rb(),s.Sb(29,"p",10),s.Ec(30,"Manage course Questionnaries and stuffs"),s.Rb(),s.Nb(31,"hr"),s.Sb(32,"button",11),s.Zb("click",function(){return t.addQuestionnaire()}),s.Ec(33," Questionnaire "),s.Sb(34,"i",12),s.Ec(35," playlist_add "),s.Rb(),s.Rb(),s.Sb(36,"button",13),s.Ec(37," Preview "),s.Sb(38,"i",12),s.Ec(39," list_alt "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(40,"div",4),s.Sb(41,"div",5),s.Sb(42,"div",6),s.Sb(43,"h3",7),s.Sb(44,"b"),s.Ec(45,"S"),s.Rb(),s.Rb(),s.Sb(46,"p"),s.Ec(47,"Details for your students & stuffs"),s.Rb(),s.Nb(48,"hr"),s.Sb(49,"button",13),s.Ec(50," Students "),s.Sb(51,"i",12),s.Ec(52," list_alt "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(53,"div",4),s.Sb(54,"div",5),s.Sb(55,"div",6),s.Sb(56,"h3",7),s.Sb(57,"b"),s.Ec(58,"Sketch Book"),s.Rb(),s.Rb(),s.Sb(59,"p",10),s.Ec(60,"* Add/Manage Tests and stuffs here"),s.Rb(),s.Nb(61,"hr"),s.Sb(62,"button",13),s.Sb(63,"i",14),s.Ec(64," playlist_add "),s.Rb(),s.Ec(65," TEST "),s.Rb(),s.Nb(66,"i",9),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Nb(67,"ngx-loading",15)),2&e&&(s.Bb(67),s.jc("show",t.loading)("config",s.mc(2,D)))},directives:[u.a,c.c,S.a],styles:[""]}),e})();class j{constructor(e,t,r,i,o,c,a,s,n,d,l){this.Id=e,this.Email=t,this.Image=r,this.Name=i,this.UserId=o,this.AccrNumber=c,this.Status=a,this.CreatedOn=s,this.ModifiedOn=n,this.Courses=d,this.Stars=l}}let A=(()=>{class e{constructor(e,t,r){this.activatedRoute=e,this.errorHandlerService=t,this.teacherService=r,this.loading=!1}ngOnInit(){this.loading=!0,this.teacherService.getTeacherById(this.activatedRoute.snapshot.params.id).subscribe(e=>{this.teacher=new j(e.body.id)},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(c.a),s.Mb(l.a),s.Mb(d.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-teacher-details"]],decls:13,vars:4,consts:[[1,"row"],[1,"col-md-6","text-center"],[1,"col-md-6"],["src","../../../../../assets/images/no-image-found.jpg","alt","Sample image"],["type","button","routerLink","/teachers",1,"btn","btn-outline-info","ml-3"],[3,"show"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"h4"),s.Ec(3),s.Rb(),s.Sb(4,"h4"),s.Ec(5),s.Rb(),s.Sb(6,"h4"),s.Ec(7),s.Rb(),s.Rb(),s.Sb(8,"div",2),s.Nb(9,"img",3),s.Rb(),s.Sb(10,"button",4),s.Ec(11," Back To Teachers "),s.Rb(),s.Rb(),s.Nb(12,"ngx-loading",5)),2&e&&(s.Bb(3),s.Gc("Name: ",null==t.teacher?null:t.teacher.Name,""),s.Bb(2),s.Gc("Accreditation Number: ",null==t.teacher?null:t.teacher.Id,""),s.Bb(2),s.Gc("Teacher Status: ",null==t.teacher?null:t.teacher.Status,""),s.Bb(5),s.jc("show",t.loading))},directives:[c.c,S.a],encapsulation:2}),e})();var G=r("M9IT"),U=r("Dh3D"),Z=r("+0xr"),q=r("iRF1");class z{constructor(e,t,r,i,o,c,a){this.CourseId=e,this.Name=t,this.Description=r,this.IsActive=i,this.StartDate=o,this.EndDate=c,this.Teachers=a}}var L=r("wZkO"),H=r("d3UM"),$=r("FKr1"),Q=r("iadO");function V(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",6),s.Sb(1,"div",7),s.Sb(2,"form",8),s.Sb(3,"label",9),s.Ec(4,"Course Image"),s.Rb(),s.Sb(5,"div",10),s.Nb(6,"img",11),s.Sb(7,"input",12,13),s.Zb("change",function(t){return s.tc(e),s.dc().onFileSelected(t)}),s.Rb(),s.Nb(9,"br"),s.Sb(10,"button",14),s.Zb("click",function(){return s.tc(e),s.rc(8).click()}),s.Ec(11,"Upload picture"),s.Rb(),s.Sb(12,"button",15),s.Zb("click",function(){return s.tc(e),s.dc().clearPicture()}),s.Ec(13,"Clear Picture"),s.Rb(),s.Rb(),s.Rb(),s.Sb(14,"button",16),s.Zb("click",function(){return s.tc(e),s.dc().editCourseImage()}),s.Ec(15," Update Course Image "),s.Rb(),s.Rb(),s.Sb(16,"div",17),s.Sb(17,"label"),s.Ec(18,"Course Info"),s.Rb(),s.Sb(19,"form",8),s.Sb(20,"div",6),s.Sb(21,"div",17),s.Sb(22,"mat-form-field",18),s.Nb(23,"textarea",19),s.Rb(),s.Nb(24,"br"),s.Sb(25,"mat-form-field",18),s.Nb(26,"textarea",20),s.Rb(),s.Rb(),s.Sb(27,"div",7),s.Sb(28,"mat-form-field",21),s.Sb(29,"mat-label"),s.Ec(30,"Active"),s.Rb(),s.Sb(31,"mat-select",22),s.Zb("valueChange",function(t){return s.tc(e),s.dc().model.IsActive=t}),s.Sb(32,"mat-option",23),s.Ec(33,"True"),s.Rb(),s.Sb(34,"mat-option",24),s.Ec(35,"False"),s.Rb(),s.Rb(),s.Rb(),s.Sb(36,"mat-form-field",21),s.Nb(37,"input",25),s.Nb(38,"mat-datepicker-toggle",26),s.Nb(39,"mat-datepicker",null,27),s.Rb(),s.Sb(41,"mat-form-field",21),s.Nb(42,"input",28),s.Nb(43,"mat-datepicker-toggle",26),s.Nb(44,"mat-datepicker",null,29),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(46,"div",0),s.Sb(47,"button",16),s.Zb("click",function(){return s.tc(e),s.dc().editCourse()}),s.Ec(48," Update Course Info "),s.Rb(),s.Sb(49,"button",30),s.Zb("click",function(){return s.tc(e),s.dc().onRejectClick()}),s.Ec(50," Dismiss "),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=s.rc(40),t=s.rc(45),r=s.dc();s.Bb(2),s.jc("formGroup",r.editCourseImageForm),s.Bb(4),s.jc("src",r.model.Image,s.vc),s.Bb(8),s.jc("disabled",!r.editCourseImageForm.valid||!r.editCourseImageForm.dirty),s.Bb(5),s.jc("formGroup",r.editCourseForm),s.Bb(12),s.jc("value",r.model.IsActive),s.Bb(6),s.jc("matDatepicker",e),s.Bb(1),s.jc("for",e),s.Bb(4),s.jc("matDatepicker",t),s.Bb(1),s.jc("for",t),s.Bb(4),s.jc("disabled",!r.editCourseForm.valid||!r.editCourseForm.dirty)}}function K(e,t){if(1&e&&(s.Sb(0,"span",38),s.Ec(1),s.Sb(2,"button",39),s.Sb(3,"i",40),s.Ec(4," delete "),s.Rb(),s.Rb(),s.Rb()),2&e){const e=t.$implicit;s.Bb(1),s.Gc(" ",e," ")}}function W(e,t){if(1&e&&(s.Sb(0,"mat-option",41),s.Ec(1),s.Rb()),2&e){const e=t.$implicit;s.kc("value",e.Id),s.Bb(1),s.Fc(e.Name)}}function X(e,t){if(1&e){const e=s.Tb();s.Nb(0,"br"),s.Cc(1,K,5,1,"span",31),s.Nb(2,"br"),s.Nb(3,"br"),s.Sb(4,"div",32),s.Nb(5,"br"),s.Sb(6,"form",8),s.Sb(7,"mat-form-field",33),s.Sb(8,"mat-label",32),s.Ec(9,"Add teacher to course"),s.Rb(),s.Sb(10,"mat-select",34),s.Sb(11,"mat-option",35),s.Ec(12,"--"),s.Rb(),s.Cc(13,W,2,2,"mat-option",36),s.Rb(),s.Rb(),s.Sb(14,"button",37),s.Zb("click",function(){return s.tc(e),s.dc().addTeacher2Course()}),s.Ec(15," Add "),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=s.dc();s.Bb(1),s.jc("ngForOf",e.model.Teachers),s.Bb(5),s.jc("formGroup",e.selectTeacherForm),s.Bb(7),s.jc("ngForOf",e.teachers),s.Bb(1),s.jc("disabled",!e.selectTeacherForm.valid||!e.selectTeacherForm.dirty||"Teacher"===e.selectTeacherForm.controls.Teacher.value)}}function J(e,t){if(1&e&&(s.Sb(0,"p"),s.Ec(1),s.Rb()),2&e){const e=s.dc();s.Bb(1),s.Gc("Number of enrolled students: ",e.model.EnrolledStudents,"")}}let Y=(()=>{class e{constructor(e,t,r,i){this.dialogRef=e,this.data=t,this.formBuilder=r,this.teacherService=i,this.loading=!1,this.teachers=new Array,this.activeTab=1}ngOnInit(){this.getTeachers(),this.model=this.data.model,this.editCourseForm=this.formBuilder.group({CourseId:[this.data.model.Id],Name:[this.data.model.Name],Description:[this.data.model.Description],IsActive:[this.data.model.IsActive.toString()],StartDate:[this.data.model.StartDate],EndDate:[this.data.model.EndDate]}),this.selectTeacherForm=this.formBuilder.group({Teacher:[""]}),this.editCourseImageForm=this.formBuilder.group({CourseImg:["",o.p.required]}),this.defaultCourseImg=this.model.Image?this.model.Image:"../../../../assets/images/no-profile-img.png",this.model.Image=this.defaultCourseImg}onRejectClick(){this.dialogRef.close()}editCourse(){const e={label:"updateCourseInfo",course:new z(this.editCourseForm.controls.CourseId.value,this.editCourseForm.controls.Name.value,this.editCourseForm.controls.Description.value,this.editCourseForm.controls.IsActive.value,this.editCourseForm.controls.StartDate.value,this.editCourseForm.controls.EndDate.value)};this.dialogRef.close(e)}editCourseImage(){this.dialogRef.close({label:"updateCoursePicture",img2base64:this.model.Image})}addTeacher2Course(){const e={label:"addTeacher2Course",teacher:{id:this.teachers.find(e=>e.Id===this.selectTeacherForm.controls.Teacher.value).Id,userId:this.teachers.find(e=>e.Id===this.selectTeacherForm.controls.Teacher.value).UserId,accrNumber:this.teachers.find(e=>e.Id===this.selectTeacherForm.controls.Teacher.value).AccrNumber}};this.dialogRef.close(e)}clearPicture(){this.model.Image=this.defaultCourseImg,this.editCourseImageForm.controls.CourseImg.setValue("")}onFileSelected(e){e.target.files.length>0&&this.resizeImage(e.target.files[0],800,600).then(e=>{const t=new FileReader;t.onload=e=>{this.model.Image=t.result.toString()},t.readAsDataURL(e)},e=>{console.error("Photo error!",e),this.model.Image=this.defaultCourseImg})}getTeachers(){this.teacherService.getTeachers().subscribe(e=>{e.body.forEach(e=>{this.teachers.push({Id:e.id||"",Email:e.email||"",Image:e.image||"",Name:e.name||"",UserId:e.user_id||"",AccrNumber:e.accr_number||"",Status:e.status||"",CreatedOn:e.created_on,ModifiedOn:e.modified_on,Courses:e.courses||""})})})}resizeImage(e,t,r){return new Promise((i,o)=>{const c=new Image;c.src=URL.createObjectURL(e),c.onload=()=>{const o=c.width,a=c.height;let s,n;o<=t&&a<=r&&i(e),o>a?(n=a*(t/o),s=t):(s=o*(r/a),n=r);const d=document.createElement("canvas");d.width=s,d.height=n,d.getContext("2d").drawImage(c,0,0,s,n),d.toBlob(i,e.type)},c.onerror=o})}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.e),s.Mb(a.a),s.Mb(o.d),s.Mb(d.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-edit-course"]],decls:17,vars:7,consts:[[1,"text-center"],[2,"overflow","hidden",3,"selectedIndex"],["label","Overall Info"],["matTabContent",""],["label","Leading Teachers"],["label","Enrolled Students"],[1,"row"],[1,"col-md-4"],[3,"formGroup"],["for","CourseImg"],[1,"thumb-holder"],["alt","Course picture",1,"courseImg","img-fluid","img-thumbnail",3,"src"],["type","file","formControlName","CourseImg","accept","image/*",2,"display","none",3,"change"],["courseImage",""],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["mat-stroked-button","","color","warn",1,"m-2",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-md-8"],[1,"w-100"],["matInput","","formControlName","Name","placeholder","Name","cols","30","rows","2"],["matInput","","formControlName","Description","placeholder","Description (raw html is accepted)","rows","10"],[1,"w-75"],["formControlName","IsActive",3,"value","valueChange"],["value","true"],["value","false"],["matInput","","formControlName","StartDate","placeholder","Start Date",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","EndDate","placeholder","End Date",3,"matDatepicker"],["endDatePicker",""],["mat-stroked-button","","color","warn",2,"width","15%",3,"click"],["class","text-left","style","float: left; \n                    padding: 10px;",4,"ngFor","ngForOf"],[1,"text-left"],[1,"w-25"],["formControlName","Teacher","matInput",""],["value","Teacher"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",2,"width","10%",3,"disabled","click"],[1,"text-left",2,"float","left","padding","10px"],["mat-stroked-button","","color","warn"],[1,"material-icons"],[3,"value"]],template:function(e,t){1&e&&(s.Sb(0,"section",0),s.Sb(1,"h3"),s.Ec(2),s.Rb(),s.Sb(3,"h5"),s.Ec(4),s.Rb(),s.Nb(5,"hr"),s.Sb(6,"mat-tab-group",1),s.Sb(7,"mat-tab",2),s.Cc(8,V,51,10,"ng-template",3),s.Rb(),s.Sb(9,"mat-tab",4),s.Cc(10,X,16,4,"ng-template",3),s.Rb(),s.Sb(11,"mat-tab",5),s.Cc(12,J,2,1,"ng-template",3),s.Rb(),s.Rb(),s.Nb(13,"hr"),s.Sb(14,"p"),s.Ec(15),s.ec(16,"date"),s.Rb(),s.Rb()),2&e&&(s.Bb(2),s.Fc((null==t.editCourseForm.value?null:t.editCourseForm.value.Name)||"N/A"),s.Bb(2),s.Gc("ID : ",t.model.Id,""),s.Bb(2),s.jc("selectedIndex",t.activeTab),s.Bb(9),s.Gc("Modified On: ",s.gc(16,4,t.model.ModifiedOn,"dd-MMM-yy hh:mm:ss a"),""))},directives:[L.c,L.a,L.b,o.q,o.l,o.f,o.c,o.k,o.e,u.a,k.c,T.b,k.f,H.a,$.m,Q.b,Q.d,k.g,Q.a,i.k],pipes:[i.e],styles:[".img-fluid[_ngcontent-%COMP%]{width:100%;height:15vw;-o-object-fit:contain;object-fit:contain}button[_ngcontent-%COMP%]{margin:5px}mat-form-field[_ngcontent-%COMP%]{margin:5px;text-align:center}textarea[_ngcontent-%COMP%]{overflow:hidden;text-align:left}@media only screen and (max-width:576px){mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),e})(),ee=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.loading=!1}ngOnInit(){this.model=this.data}dismiss(){this.dialogRef.close()}delete(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.e),s.Mb(a.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-delete-entity"]],decls:16,vars:3,consts:[[1,"text-center"],["mat-raised-button","",1,"ml-3",3,"click"],["mat-raised-button","","color","warn",1,"ml-3",3,"click"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"h3"),s.Ec(2,"Warning!!!"),s.Rb(),s.Sb(3,"mat-card-content"),s.Nb(4,"hr"),s.Sb(5,"h5"),s.Ec(6),s.Rb(),s.Sb(7,"h5"),s.Ec(8,"This action can't be undone!"),s.Rb(),s.Sb(9,"h5"),s.Ec(10,"Delete anyway?"),s.Rb(),s.Nb(11,"hr"),s.Sb(12,"button",1),s.Zb("click",function(){return t.dismiss()}),s.Ec(13),s.Rb(),s.Sb(14,"button",2),s.Zb("click",function(){return t.delete()}),s.Ec(15),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(6),s.Fc(t.model.title),s.Bb(7),s.Fc(t.model.rejectText),s.Bb(2),s.Fc(t.model.confirmText))},directives:[b.d,u.a],styles:["mat-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}"]}),e})();var te=r("hDlN");function re(e,t){1&e&&(s.Sb(0,"mat-error"),s.Ec(1," Course Name is required! "),s.Rb())}let ie=(()=>{class e{constructor(e,t,r,i,c,a){this.dialogRef=e,this.data=t,this.formBuilder=r,this.snackbar=i,this.errorHandlerService=c,this.coursesService=a,this.loading=!1,this.addCourseForm=this.formBuilder.group({courseName:["",o.p.required]})}ngOnInit(){}createCourse(){this.loading=!0,this.dialogRef.close({Name:this.addCourseForm.value.courseName}),this.loading=!1}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(a.e),s.Mb(a.a),s.Mb(o.d),s.Mb(m.a),s.Mb(l.a),s.Mb(te.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-create-course"]],decls:7,vars:3,consts:[["mat-dialog-content","",1,"row","justify-content-center"],[1,"text-center",3,"formGroup"],[1,"w-75"],["type","text","matInput","","formControlName","courseName","placeholder","Course Name:","required",""],[4,"ngIf"],["mat-raised-button","","color","primary",1,"ml-3",3,"disabled","click"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"form",1),s.Sb(2,"mat-form-field",2),s.Nb(3,"input",3),s.Cc(4,re,2,0,"mat-error",4),s.Rb(),s.Sb(5,"button",5),s.Zb("click",function(){return t.createCourse()}),s.Ec(6," Add Course "),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(1),s.jc("formGroup",t.addCourseForm),s.Bb(3),s.jc("ngIf",t.addCourseForm.get("courseName").hasError("required")),s.Bb(1),s.jc("disabled",!t.addCourseForm.valid||!t.addCourseForm.dirty))},directives:[a.c,o.q,o.l,o.f,k.c,T.b,o.c,o.k,o.e,o.o,i.l,u.a,k.b],styles:[""]}),e})();var oe=r("7EHt");function ce(e,t){1&e&&(s.Sb(0,"th",31),s.Ec(1," No. "),s.Rb())}function ae(e,t){if(1&e&&(s.Sb(0,"td",32),s.Ec(1),s.Rb()),2&e){const e=t.dataIndex;s.Bb(1),s.Gc(" ",e+1," ")}}function se(e,t){1&e&&(s.Sb(0,"th",33),s.Ec(1," Id "),s.Rb())}function ne(e,t){if(1&e&&(s.Sb(0,"td",32),s.Ec(1),s.Rb()),2&e){const e=t.$implicit;s.Bb(1),s.Gc(" ",e.Id," ")}}function de(e,t){1&e&&(s.Sb(0,"th",33),s.Ec(1," Name "),s.Rb())}function le(e,t){if(1&e&&(s.Sb(0,"td",32),s.Ec(1),s.Rb()),2&e){const e=t.$implicit;s.Bb(1),s.Gc(" ",e.Name," ")}}function be(e,t){1&e&&(s.Sb(0,"th",33),s.Ec(1," Enrolled Students "),s.Rb())}function ue(e,t){if(1&e&&(s.Sb(0,"td",32),s.Ec(1),s.Rb()),2&e){const e=t.$implicit;s.Bb(1),s.Gc(" ",e.EnrolledStudents," ")}}function he(e,t){1&e&&(s.Sb(0,"th",33),s.Ec(1," Pending Enroll Requests "),s.Rb())}function me(e,t){1&e&&(s.Sb(0,"td",32),s.Ec(1," n/a "),s.Rb())}function fe(e,t){1&e&&(s.Sb(0,"th",33),s.Ec(1," Teachers "),s.Rb())}function ge(e,t){1&e&&(s.Sb(0,"td",32),s.Ec(1," n/a "),s.Rb())}function Se(e,t){1&e&&(s.Sb(0,"th",31),s.Ec(1," Properties "),s.Rb())}function pe(e,t){if(1&e){const e=s.Tb();s.Sb(0,"td",34),s.Sb(1,"button",35),s.Zb("click",function(){s.tc(e);const r=t.$implicit;return s.dc().editCourse(r.Id)}),s.Sb(2,"i",3),s.Ec(3," zoom_in "),s.Rb(),s.Rb(),s.Sb(4,"button",36),s.Zb("click",function(){s.tc(e);const r=t.$implicit;return s.dc().deleteCourse(r.Id)}),s.Nb(5,"i",37),s.Rb(),s.Rb()}}function Ce(e,t){1&e&&s.Nb(0,"tr",38)}function Re(e,t){1&e&&s.Nb(0,"tr",39)}function ve(e,t){1&e&&(s.Sb(0,"h2"),s.Ec(1,"Please wait! Fetching data from the server..."),s.Rb())}const Ee=function(){return["/dashboard"]},Ne=function(){return["/teachers/craftsman-menu"]},ye=function(){return[10,20,30,100]},Ie=[{path:"",children:[{path:"",component:E},{path:"craftsman-menu",component:F},{path:"craftsman-menu/courses",component:(()=>{class e{constructor(e,t,r,i,o){this.coursesService=e,this.errorHandlerService=t,this.dialog=r,this.snackbar=i,this.teacherService=o,this.displayedColumns=["#","Id","Name","Start Date","End Date","Active","Electable","Enrolled Students","Pending Enroll Requests","Teachers","Properties"],this.courses=new Array,this.loading=!1,this.totalCourses=0}ngOnInit(){this.getCourses()}applyFilter(){const e=document.querySelector("#teacherNameFilter").value,t=document.querySelector("#courseNameFilter").value;this.dataSource.filterPredicate=(e,t)=>-1!==e.Name.trim().toLowerCase().indexOf(t.split("\u253c")[1]),this.dataSource.filter=`${e.trim().toLowerCase()}\u253c${t.trim()}`,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}createCourse(){const e=this.dialog.open(ie,{width:"50vw"});this.tryCreateCourse(e)}editCourse(e){this.coursesService.getCourseById(e).subscribe(t=>{const r=this.openEditCourseModal(t);this.tryUpdateCourse(r,e)})}deleteCourse(e){const t=this.dialog.open(ee,{data:{title:`This will delete course with Id ${e}!`,confirmText:"Delete",rejectText:"Dismiss",model:e}});this.tryDeleteCourse(t,e)}deleteAllCourses(){const e=this.dialog.open(ee,{data:{title:"This will delete all courses!",confirmText:"Delete All",rejectText:"Dismiss"}});this.tryDeleteAllCourses(e)}getCourses(){this.loading=!0,this.coursesService.getCoursesPreview().subscribe(e=>{e.body.forEach(e=>{this.courses.push({Id:e.id,Name:e.name,Teachers:e.teachers,Description:e.description,StartDate:e.start_date,EndDate:e.end_date,ModifiedOn:e.modified_on,Image:e.image,IsActive:e.is_active,IsElectable:e.is_electable,EnrolledStudents:e.enrolled_students,EnrolledUserId:e.enrolled_user_id})}),this.dataSource=new Z.k(this.courses),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.loading=!1},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.totalCourses=this.courses.length})}openEditCourseModal(e){return this.dialog.open(Y,{width:"80vw",maxHeight:"100vh",data:{model:new q.a(e.body.id,e.body.name,e.body.description,e.body.teachers,e.body.start_date,e.body.end_date,e.body.modified_on,e.body.is_electable,e.body.is_active,e.body.image,e.body.enrolled_students)},autoFocus:!1})}tryUpdateCourse(e,t){this.loading=!0,e.afterClosed().subscribe(e=>{e&&(Object.values(e).includes("updateCourseInfo")?this.updateCourseInfo(e.course):Object.values(e).includes("updateCoursePicture")?this.updateCoursePicture(e.img2base64,t):Object.values(e).includes("addTeacher2Course")&&this.addTeacherCourse(e.teacher,t))}),this.loading=!1}updateCourseInfo(e){this.coursesService.updateCourse({CourseId:e.CourseId,Name:e.Name,Description:e.Description,IsActive:e.IsActive,StartDate:e.StartDate,EndDate:e.EndDate}).subscribe(t=>{this.loading=!0,this.handleSuccess(e.CourseId)},e=>{this.handleError(e)})}updateCoursePicture(e,t){this.coursesService.updateCoursePicture({CourseId:t,ImageAsBase64:e}).subscribe(()=>{this.handleSuccess(t)},e=>{this.handleError(e)})}addTeacherCourse(e,t){this.teacherService.addTeacher2Course({TeacherId:e.id,UserId:e.userId,AccrNumber:e.accrNumber,CourseId:t}).subscribe(()=>{this.handleSuccess(t)},e=>{this.handleError(e)})}handleSuccess(e){this.coursesService.getCourseById(e).subscribe(t=>{const r=new q.a(t.body.id,t.body.name,t.body.description,t.body.teachers,t.body.start_date,t.body.end_date,t.body.modified_on,t.body.is_active,t.body.is_electable,t.body.image,t.body.enrolled_students);this.courses.splice(this.courses.findIndex(t=>t.Id===e),1,r),this.dataSource.data=this.courses,this.loading=!1,this.snackbar.open("Course with ID: "+r.Id+" updated successfully.","OK",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:"successSnackbar"})})}handleError(e){this.errorHandlerService.handleRequestError(e),this.loading=!1,this.snackbar.open("Course cannot be updated!","OK",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:"dangerSnackbar"})}tryDeleteCourse(e,t){e.afterClosed().subscribe(e=>{e&&(this.loading=!0,this.coursesService.deleteCourse({CourseId:t}).subscribe(e=>{this.loading=!1,this.courses=new Array,this.getCourses(),this.snackbar.open("Course was deleted successfuly!","X",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:"successSnackbar"})},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.loading=!1}))})}tryDeleteAllCourses(e){e.afterClosed().subscribe(e=>{e&&this.coursesService.deleteAllCourses().subscribe(e=>{this.loading=!0,this.courses=new Array,this.getCourses(),this.snackbar.open("All courses deleted successfully.","X",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:"successSnackbar"})},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.loading=!1})})}tryCreateCourse(e){e.afterClosed().subscribe(e=>{e&&this.coursesService.createCourse({Name:e.Name}).subscribe(e=>{this.loading=!1,this.courses=new Array,this.getCourses(),this.snackbar.open(""+e,"X",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"successSnackbar"})},e=>{this.loading=!1,this.errorHandlerService.handleRequestError(e)})})}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(te.a),s.Mb(l.a),s.Mb(a.b),s.Mb(m.a),s.Mb(d.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-courses-details"]],viewQuery:function(e,t){if(1&e&&(s.Ic(G.a,!0),s.Ic(U.a,!0)),2&e){let e;s.qc(e=s.ac())&&(t.paginator=e.first),s.qc(e=s.ac())&&(t.sort=e.first)}},decls:54,vars:13,consts:[[1,"text-center"],["id","filters"],[3,"expanded"],[1,"material-icons"],[1,"row","justify-content-left"],[1,"col-sm-2"],["type","text","matInput","","id","teacherNameFilter","placeholder","Teacher Name",3,"keyup"],["type","text","matInput","","id","courseNameFilter","placeholder","Course Name",3,"keyup"],[2,"float","left"],["mat-raised-button","","color","primary",1,"m-2",3,"routerLink"],[2,"float","right"],["mat-raised-button","","color","primary",1,"m-2",3,"click"],[1,"material-icons",2,"font-size","1.8em"],["id","listCourses",1,"mat-elevation-z8","table-responsive"],["mat-table","","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Name"],["matColumnDef","Enrolled Students"],["matColumnDef","Pending Enroll Requests"],["matColumnDef","Teachers"],["matColumnDef","Properties"],["style","cursor: pointer;","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[4,"ngIf"],[3,"show"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"cursor","pointer"],["mat-raised-button","","color","primary",1,"mr-2",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"far","fa-trash-alt",2,"font-size","1.2em"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Sb(0,"h1",0),s.Ec(1,"Courses Settings"),s.Rb(),s.Sb(2,"h5",0),s.Ec(3),s.Rb(),s.Sb(4,"div",1),s.Sb(5,"mat-expansion-panel",2),s.Sb(6,"mat-expansion-panel-header"),s.Sb(7,"mat-panel-title"),s.Sb(8,"i",3),s.Ec(9,"search"),s.Rb(),s.Ec(10," ... "),s.Rb(),s.Rb(),s.Sb(11,"div",4),s.Sb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Zb("keyup",function(){return t.applyFilter()}),s.Rb(),s.Rb(),s.Sb(14,"mat-form-field",5),s.Sb(15,"input",7),s.Zb("keyup",function(){return t.applyFilter()}),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(16,"h4",8),s.Sb(17,"button",9),s.Ec(18," Dashboard "),s.Rb(),s.Sb(19,"button",9),s.Ec(20," Craftsman Menu "),s.Rb(),s.Rb(),s.Sb(21,"h4",10),s.Sb(22,"button",11),s.Zb("click",function(){return t.createCourse()}),s.Sb(23,"i",12),s.Ec(24," playlist_add "),s.Rb(),s.Ec(25," Add Course "),s.Rb(),s.Rb(),s.Sb(26,"div",13),s.Sb(27,"table",14),s.Qb(28,15),s.Cc(29,ce,2,0,"th",16),s.Cc(30,ae,2,1,"td",17),s.Pb(),s.Qb(31,18),s.Cc(32,se,2,0,"th",19),s.Cc(33,ne,2,1,"td",17),s.Pb(),s.Qb(34,20),s.Cc(35,de,2,0,"th",19),s.Cc(36,le,2,1,"td",17),s.Pb(),s.Qb(37,21),s.Cc(38,be,2,0,"th",19),s.Cc(39,ue,2,1,"td",17),s.Pb(),s.Qb(40,22),s.Cc(41,he,2,0,"th",19),s.Cc(42,me,2,0,"td",17),s.Pb(),s.Qb(43,23),s.Cc(44,fe,2,0,"th",19),s.Cc(45,ge,2,0,"td",17),s.Pb(),s.Qb(46,24),s.Cc(47,Se,2,0,"th",16),s.Cc(48,pe,6,0,"td",25),s.Pb(),s.Cc(49,Ce,1,0,"tr",26),s.Cc(50,Re,1,0,"tr",27),s.Rb(),s.Nb(51,"mat-paginator",28),s.Rb(),s.Cc(52,ve,2,0,"h2",29),s.Nb(53,"ngx-loading",30)),2&e&&(s.Bb(3),s.Gc("Total of: ",t.totalCourses,""),s.Bb(2),s.jc("expanded",!1),s.Bb(12),s.jc("routerLink",s.mc(10,Ee)),s.Bb(2),s.jc("routerLink",s.mc(11,Ne)),s.Bb(8),s.jc("dataSource",t.dataSource),s.Bb(22),s.jc("matHeaderRowDef",t.displayedColumns),s.Bb(1),s.jc("matRowDefColumns",t.displayedColumns),s.Bb(1),s.jc("pageSizeOptions",s.mc(12,ye)),s.Bb(1),s.jc("ngIf",t.loading),s.Bb(1),s.jc("show",t.loading))},directives:[oe.b,oe.c,oe.d,k.c,T.b,u.a,c.c,Z.j,U.a,Z.c,Z.e,Z.b,Z.g,Z.i,G.a,i.l,S.a,Z.d,Z.a,U.b,Z.f,Z.h],styles:["#filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{font-size:1.3em;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}#filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:100px}#listCourses[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}#listCourses[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-description[_ngcontent-%COMP%]{padding:16px}.img-thumbnail[_ngcontent-%COMP%]{width:100%;height:15vw;-o-object-fit:contain;object-fit:contain}.mat-cell[_ngcontent-%COMP%]{padding-right:10px}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:rgba(13,212,247,.171)}"]}),e})()},{path:":id",component:A}]}];let we=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(t){return new(t||e)},imports:[[i.c,c.e.forChild(Ie)],c.e]}),e})();var Me=r("w/ci");let ke=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(t){return new(t||e)},imports:[[i.c,we,Me.a,o.n,S.b.forRoot({animationType:S.c.threeBounce,primaryColour:"#88078e",secondaryColour:"#c6ef23",backdropBorderRadius:"14px",fullScreenBackdrop:!0})]]}),e})()}}]);
//# sourceMappingURL=5-es2015.ce90981a17ac3858c67e.js.map