(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ikWF:function(e,t,r){"use strict";r.r(t),r.d(t,"TeachersModule",function(){return Oe});var o=r("ofXK"),i=r("3Pt+"),c=r("tyNb"),a=r("0IaG"),s=r("fXoL");let n=(()=>{class e{constructor(e,t,r){this.dialogRef=e,this.data=t,this.formBuilder=r}ngOnInit(){this.teacher=this.data.model}onRejectClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(a.e),s.Ob(a.a),s.Ob(i.d))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-teacher-preview"]],decls:51,vars:15,consts:[[1,"col-md-12","col-center","text-center"],[1,"card"],[1,"card-body","row"],[1,"card","col-md-3"],[1,"card-body"],["alt","Sample image",1,"img-thumbnail","img-fluid",3,"src"],[2,"text-align","center"],["id","statusHolder"],[1,"card","col-md-6"],[2,"text-align","left"],[1,"course"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Pb(2,"br"),s.Ub(3,"h2"),s.Lc(4),s.Tb(),s.Ub(5,"div",2),s.Ub(6,"div",3),s.Ub(7,"div",4),s.Pb(8,"img",5),s.Ub(9,"div",6),s.Pb(10,"br"),s.Ub(11,"p",7),s.Lc(12,"Status: "),s.Ub(13,"span"),s.Lc(14),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(15,"div",8),s.Ub(16,"div",4),s.Ub(17,"h4",6),s.Lc(18),s.Tb(),s.Pb(19,"hr"),s.Ub(20,"div",9),s.Ub(21,"h5"),s.Ub(22,"b"),s.Lc(23,"Email :"),s.Tb(),s.Lc(24),s.Tb(),s.Ub(25,"h5"),s.Ub(26,"b"),s.Lc(27,"UserId :"),s.Tb(),s.Lc(28),s.Tb(),s.Ub(29,"h5"),s.Ub(30,"b"),s.Lc(31,"AccrNumber :"),s.Tb(),s.Lc(32),s.Tb(),s.Ub(33,"h5"),s.Ub(34,"b"),s.Lc(35,"Created on :"),s.Tb(),s.Lc(36),s.jc(37,"date"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(38,"div",3),s.Ub(39,"div",4),s.Ub(40,"h4"),s.Lc(41,"Lead Courses"),s.Tb(),s.Pb(42,"hr"),s.Ub(43,"div",10),s.Ub(44,"p"),s.Lc(45,"Course Name"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(46,"p"),s.Ub(47,"b"),s.Lc(48,"Last updated on :"),s.Tb(),s.Lc(49),s.jc(50,"date"),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(4),s.Nc(" ",t.teacher.Name," "),s.Bb(4),s.pc("src",t.teacher.Image,s.Cc),s.Bb(6),s.Mc(t.teacher.Status),s.Bb(4),s.Nc("ID : ",t.teacher.Id," "),s.Bb(6),s.Nc(" ",t.teacher.Email," "),s.Bb(4),s.Nc(" ",t.teacher.UserId," "),s.Bb(4),s.Nc(" ",t.teacher.AccrNumber," "),s.Bb(4),s.Nc(" ",s.lc(37,9,t.teacher.CreatedOn,"dd-MMM-yy")," "),s.Bb(13),s.Nc(" ",s.lc(50,12,t.teacher.ModifiedOn,"dd-MMM-yy"),""))},pipes:[o.e],styles:[".img-fluid[_ngcontent-%COMP%]{border:1px solid #000;height:10vw;width:80%;-o-object-fit:contain;object-fit:contain}@media only screen and (max-width:414px){.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5em}.card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}.card[_ngcontent-%COMP%]   #statusHolder[_ngcontent-%COMP%]{font-size:1.2em!important}.card[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{border:1px solid #000;height:20vw;width:100%;-o-object-fit:contain;object-fit:contain}}"]}),e})();var d=r("vzt6"),l=r("9e4Q"),b=r("Wp6s"),u=r("bTqV");let h=(()=>{class e{constructor(e,t,r,o){this.dialogRef=e,this.data=t,this.teacherService=r,this.errorHandlerService=o,this.teachers=new Array,this.loading=!1,this.totalTeachers=0}ngOnInit(){this.loading=!0}dismiss(){this.dialogRef.close()}vote(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(a.e),s.Ob(a.a),s.Ob(d.a),s.Ob(l.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-vote-for-teacher"]],decls:23,vars:1,consts:[[1,"text-center"],[1,""],["mat-raised-button","","color","primary",1,"mr-2",3,"click"],[1,"rating"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"mat-card-content"),s.Ub(2,"div",1),s.Ub(3,"h4"),s.Lc(4,"If you like this teacher - hit the star below."),s.Tb(),s.Pb(5,"hr"),s.Ub(6,"h5"),s.Lc(7,"Reward "),s.Tb(),s.Ub(8,"h5"),s.Lc(9),s.Tb(),s.Ub(10,"h5"),s.Lc(11," with "),s.Ub(12,"span"),s.Lc(13,"\u2b50"),s.Tb(),s.Tb(),s.Pb(14,"br"),s.Ub(15,"p"),s.Lc(16,"Vote is anonymous!"),s.Tb(),s.Pb(17,"hr"),s.Ub(18,"div",0),s.Ub(19,"button",2),s.ec("click",function(){return t.vote()}),s.Ub(20,"div",3),s.Ub(21,"span"),s.Lc(22,"\u2606"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(9),s.Mc(t.data.model.TeacherName))},directives:[b.a,u.a],styles:['@charset "UTF-8";.rating[_ngcontent-%COMP%]{unicode-bidi:bidi-override;direction:rtl;font-size:2em;color:#ff0}.rating[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover:before, .rating[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]:before{content:"\u2605";position:absolute}']}),e})();var m=r("dNgK"),f=r("Pjly"),g=r("RCKm"),p=r("qC+V");function T(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div",5),s.Ub(1,"div",6),s.Ub(2,"h1"),s.Lc(3),s.Tb(),s.Pb(4,"br"),s.Pb(5,"br"),s.Ub(6,"button",7),s.ec("click",function(){return s.Ac(e),s.ic().dismiss()}),s.Lc(7," Dismiss "),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=s.ic();s.Bb(3),s.Mc(e.successfulUpdateMessage)}}function C(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",16),s.ec("click",function(){s.Ac(e);const t=s.ic().$implicit;return s.ic().voteForTeacher(t.Id)}),s.Lc(1," Vote "),s.Tb()}}function U(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div",8),s.Ub(1,"div",9),s.Ub(2,"div",10),s.Pb(3,"img",11),s.Pb(4,"br"),s.Pb(5,"br"),s.Ub(6,"h5"),s.Lc(7),s.Tb(),s.Pb(8,"hr"),s.Ub(9,"div",12),s.Ub(10,"span"),s.Lc(11,"\u2b50"),s.Tb(),s.Lc(12),s.Tb(),s.Pb(13,"hr"),s.Ub(14,"button",13),s.ec("click",function(){s.Ac(e);const r=t.$implicit;return s.ic().showTeacher(r.Id)}),s.Pb(15,"i",14),s.Tb(),s.Jc(16,C,2,0,"button",15),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,r=s.ic();s.Bb(3),s.pc("src",e.Image,s.Cc),s.Bb(4),s.Mc(e.Name),s.Bb(5),s.Nc(" ",e.Stars," "),s.Bb(4),s.oc("ngIf",r.isLogged&&!r.notVotedYet(e.Id))}}const v=function(){return{backdropBorderRadius:"14px",fullScreenBackdrop:!0}};let P=(()=>{class e{constructor(e,t,r,o,i,c,a){this.dialog=e,this.errorHandlerService=t,this.snackbar=r,this.router=o,this.teacherService=i,this.authService=c,this.userService=a,this.loading=!1,this.totalTeachers=0,this.teachers=new Array,this.successfulUpdate=!1,this.successfulUpdateMessage="",this.isLogged=!1}ngOnInit(){this.isLogged=this.authService.isAuthenticated(),this.loading=!0,this.getTeachers(),this.getUserByToken()}getUserByToken(){this.userService.getUserByToken().subscribe(e=>{this.user=e.body,console.log(this.user)},e=>{console.log(e)})}goToTeacher(e){this.router.navigate(["/teachers/"+e])}notVotedYet(e){let t=!0;return this.user.starredTeachers.forEach(r=>{r.Id===e&&(t=!1)}),t}showTeacher(e){let t;this.teachers.forEach(r=>{r.Id!==e||(t=r)}),this.dialog.open(n,{width:"80vw",maxHeight:"100vh",data:{model:t}}).afterClosed().subscribe()}voteForTeacher(e){this.loading=!0;let t="";this.teachers.forEach(r=>{r.Id!==e||(t=r.Name)});const r=this.dialog.open(h,{data:{width:"80vw",maxHeight:"100vh",model:{TeacherName:t}}});this.tryVoteForTeacher(r,e),this.loading=!1}tryVoteForTeacher(e,t){e.afterClosed().subscribe(e=>{!0===e&&this.teacherService.voteForTeacher({TeacherId:t}).subscribe(e=>{let r="";this.teachers.forEach(e=>{e.Id!==t||(r=e.Name)}),this.loading=!1,this.successfulUpdate=!0,this.successfulUpdateMessage=`You have successfully starred \u2b50 for ${r}!`},e=>{this.loading=!1,this.errorHandlerService.handleRequestError(e)})})}getTeachers(){this.loading=!0,this.teacherService.getTeachers().subscribe(e=>{e.body.forEach(e=>{this.teachers.push({Id:e.id||"",Email:e.email,Image:e.image||"",Name:e.name||"",UserId:e.user_id||"",AccrNumber:e.accr_number,Status:e.status||"",CreatedOn:e.created_on||"",ModifiedOn:e.modified_on||"",Courses:e.courses||"",Stars:e.stars||0})})},e=>{this.errorHandlerService.handleRequestError(e)},()=>{this.totalTeachers=this.teachers.length,this.loading=!1})}dismiss(){this.successfulUpdate=!1}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(a.b),s.Ob(l.a),s.Ob(m.a),s.Ob(c.b),s.Ob(d.a),s.Ob(f.a),s.Ob(g.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-teachers"]],decls:10,vars:6,consts:[[1,"text-center"],[1,"row"],["class","dim",4,"ngIf"],["class","col-md-3 text-center",4,"ngFor","ngForOf"],[3,"show","config"],[1,"dim"],[1,"msg"],[1,"btn","btn-outline-info",3,"click"],[1,"col-md-3","text-center"],[1,"card"],[1,"card-body"],["alt","Sample image",1,"img-thumbnail","img-fluid",3,"src"],[2,"font-size","1.2em"],["mat-raised-button","","color","primary",1,"text-center","ml-2",3,"click"],[1,"fas","fa-search"],["mat-raised-button","","class","text-center ml-2",3,"click",4,"ngIf"],["mat-raised-button","",1,"text-center","ml-2",3,"click"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"h3"),s.Lc(2,"Teachers"),s.Tb(),s.Ub(3,"p"),s.Lc(4),s.Tb(),s.Pb(5,"hr"),s.Tb(),s.Ub(6,"div",1),s.Jc(7,T,8,1,"div",2),s.Jc(8,U,17,4,"div",3),s.Tb(),s.Pb(9,"ngx-loading",4)),2&e&&(s.Bb(4),s.Nc("Total Of: ",t.totalTeachers,""),s.Bb(3),s.oc("ngIf",t.successfulUpdate),s.Bb(1),s.oc("ngForOf",t.teachers),s.Bb(1),s.oc("show",t.loading)("config",s.sc(5,v)))},directives:[o.m,o.l,p.a,u.a],styles:[".img-fluid[_ngcontent-%COMP%]{height:10vw;-o-object-fit:contain;object-fit:contain;border:1px solid #000}.dim[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10%}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1em}@media only screen and (max-width:414px){.dim[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}.card[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{height:35vw;-o-object-fit:contain;object-fit:contain;border:1px solid #000}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.2em}}"]}),e})();var I=r("0EQZ"),S=r("FvrZ"),y=r("8yBR"),w=r("t/G1"),L=r("bSwM"),O=r("kmnG"),k=r("qFsG"),N=r("NFeN");function M(e,t){if(1&e){const e=s.Vb();s.Ub(0,"mat-tree-node",3),s.Pb(1,"button",4),s.Ub(2,"mat-checkbox",5),s.ec("change",function(){s.Ac(e);const r=t.$implicit;return s.ic().todoLeafItemSelectionToggle(r)}),s.Lc(3),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,r=s.ic();s.Bb(2),s.oc("checked",r.checklistSelection.isSelected(e)),s.Bb(1),s.Mc(e.item)}}function _(e,t){if(1&e){const e=s.Vb();s.Ub(0,"mat-tree-node",6),s.Pb(1,"button",4),s.Ub(2,"mat-form-field"),s.Pb(3,"input",7,8),s.Tb(),s.Ub(5,"button",9),s.ec("click",function(){s.Ac(e);const r=t.$implicit,o=s.yc(4);return s.ic().saveNode(r,o.value)}),s.Lc(6,"Save"),s.Tb(),s.Tb()}}function B(e,t){if(1&e){const e=s.Vb();s.Ub(0,"mat-tree-node",6),s.Ub(1,"button",10),s.Ub(2,"mat-icon",11),s.Lc(3),s.Tb(),s.Tb(),s.Ub(4,"mat-checkbox",12),s.ec("change",function(){s.Ac(e);const r=t.$implicit;return s.ic().todoItemSelectionToggle(r)}),s.Lc(5),s.Tb(),s.Ub(6,"button",13),s.ec("click",function(){s.Ac(e);const r=t.$implicit;return s.ic().addNewItem(r)}),s.Ub(7,"mat-icon"),s.Lc(8,"add"),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,r=s.ic();s.Bb(1),s.Cb("aria-label","toggle "+e.filename),s.Bb(2),s.Nc(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),s.Bb(1),s.oc("checked",r.descendantsAllSelected(e))("indeterminate",r.descendantsPartiallySelected(e)),s.Bb(1),s.Mc(e.item)}}let x=(()=>{class e{constructor(e){this._database=e,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new I.c(!0),this.getLevel=e=>e.level,this.isExpandable=e=>e.expandable,this.getChildren=e=>e.children,this.hasChild=(e,t)=>t.expandable,this.hasNoContent=(e,t)=>""===t.item,this.transformer=(e,t)=>{const r=this.nestedNodeMap.get(e),o=r&&r.item===e.item?r:new w.b;return o.item=e.item,o.level=t,o.expandable=!!e.children,this.flatNodeMap.set(o,e),this.nestedNodeMap.set(e,o),o},this.treeFlattener=new y.c(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new S.j(this.getLevel,this.isExpandable),this.dataSource=new y.b(this.treeControl,this.treeFlattener),e.dataChange.subscribe(e=>{this.dataSource.data=e})}ngOnInit(){}descendantsAllSelected(e){return this.treeControl.getDescendants(e).every(e=>this.checklistSelection.isSelected(e))}descendantsPartiallySelected(e){return this.treeControl.getDescendants(e).some(e=>this.checklistSelection.isSelected(e))&&!this.descendantsAllSelected(e)}todoItemSelectionToggle(e){this.checklistSelection.toggle(e);const t=this.treeControl.getDescendants(e);this.checklistSelection.isSelected(e)?this.checklistSelection.select(...t):this.checklistSelection.deselect(...t),t.every(e=>this.checklistSelection.isSelected(e)),this.checkAllParentsSelection(e)}todoLeafItemSelectionToggle(e){this.checklistSelection.toggle(e),this.checkAllParentsSelection(e)}checkAllParentsSelection(e){let t=this.getParentNode(e);for(;t;)this.checkRootNodeSelection(t),t=this.getParentNode(t)}checkRootNodeSelection(e){const t=this.checklistSelection.isSelected(e),r=this.treeControl.getDescendants(e).every(e=>this.checklistSelection.isSelected(e));t&&!r?this.checklistSelection.deselect(e):!t&&r&&this.checklistSelection.select(e)}getParentNode(e){const t=this.getLevel(e);if(t<1)return null;for(let r=this.treeControl.dataNodes.indexOf(e)-1;r>=0;r--){const e=this.treeControl.dataNodes[r];if(this.getLevel(e)<t)return e}return null}addNewItem(e){const t=this.flatNodeMap.get(e);this._database.insertItem(t,""),this.treeControl.expand(e)}saveNode(e,t){const r=this.flatNodeMap.get(e);this._database.updateItem(r,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(w.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-questionnaire"]],decls:16,vars:4,consts:[[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"checked","change"],["matTreeNodePadding",""],["matInput","","placeholder","New item..."],["itemValue",""],["mat-button","",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"],["mat-icon-button","",3,"click"]],template:function(e,t){1&e&&(s.Ub(0,"h3"),s.Lc(1," [course.Name] Questionnaire & selectable [q.Type]"),s.Tb(),s.Pb(2,"hr"),s.Pb(3,"br"),s.Ub(4,"h3"),s.Lc(5,"selectable [test.Type]"),s.Tb(),s.Pb(6,"hr"),s.Pb(7,"br"),s.Ub(8,"mat-tree",0),s.Jc(9,M,4,2,"mat-tree-node",1),s.Jc(10,_,7,0,"mat-tree-node",2),s.Jc(11,B,9,5,"mat-tree-node",2),s.Tb(),s.Pb(12,"br"),s.Pb(13,"hr"),s.Ub(14,"button"),s.Lc(15,"Update"),s.Tb()),2&e&&(s.Bb(8),s.oc("dataSource",t.dataSource)("treeControl",t.treeControl),s.Bb(2),s.oc("matTreeNodeDefWhen",t.hasNoContent),s.Bb(1),s.oc("matTreeNodeDefWhen",t.hasChild))},directives:[y.a,y.f,y.e,y.h,y.g,u.a,L.a,O.c,k.b,N.a],styles:[""]}),e})();const D=function(){return{backdropBorderRadius:"14px",fullScreenBackdrop:!0}};let F=(()=>{class e{constructor(e,t,r){this.dialog=e,this.snackbar=t,this.errorHandlerService=r,this.loading=!1}ngOnInit(){}addClassroom(){}addQuestionnaire(){this.dialog.open(x,{width:"40vw",autoFocus:!1})}addIPRangeAfterClosed(e){}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(a.b),s.Ob(m.a),s.Ob(l.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-craftsman-menu"]],decls:68,vars:3,consts:[[1,"text-left"],["mat-raised-button","","color","primary","routerLink","/dashboard",1,"m-2"],[1,"text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body"],[1,"card-title"],["mat-raised-button","","color","primary","routerLink","/teachers/craftsman-menu/courses",1,"mr-2"],[1,"far","fa-edit",2,"font-size","1.6em"],[1,"card-text"],["mat-raised-button","","color","primary",1,"mr-2",3,"click"],[1,"material-icons"],["color","primary","mat-raised-button","",1,"mr-2"],[1,"material-icons",2,"font-size","1.8em"],[3,"show","config"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"button",1),s.Lc(2,"Dashboard"),s.Tb(),s.Tb(),s.Ub(3,"div",2),s.Ub(4,"h1"),s.Lc(5,"Craftsman Menu"),s.Tb(),s.Tb(),s.Pb(6,"hr"),s.Ub(7,"div",3),s.Ub(8,"div",4),s.Ub(9,"div",5),s.Ub(10,"div",6),s.Ub(11,"h3",7),s.Ub(12,"b"),s.Lc(13,"C"),s.Tb(),s.Tb(),s.Ub(14,"span"),s.Lc(15,"* Create new courses from scratch "),s.Pb(16,"br"),s.Lc(17,"* Tailor existing courses however you want "),s.Pb(18,"br"),s.Lc(19,"* Keep track of your courses' statistics "),s.Tb(),s.Pb(20,"hr"),s.Ub(21,"button",8),s.Pb(22,"i",9),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(23,"div",4),s.Ub(24,"div",5),s.Ub(25,"div",6),s.Ub(26,"h3",7),s.Ub(27,"b"),s.Lc(28,"Q"),s.Tb(),s.Tb(),s.Ub(29,"p",10),s.Lc(30,"Manage course Questionnaries and stuffs"),s.Tb(),s.Pb(31,"hr"),s.Ub(32,"button",11),s.ec("click",function(){return t.addQuestionnaire()}),s.Lc(33," Questionnaire "),s.Ub(34,"i",12),s.Lc(35," playlist_add "),s.Tb(),s.Tb(),s.Ub(36,"button",13),s.Lc(37," Preview "),s.Ub(38,"i",12),s.Lc(39," list_alt "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(40,"div",4),s.Ub(41,"div",5),s.Ub(42,"div",6),s.Ub(43,"h3",7),s.Ub(44,"b"),s.Lc(45,"S"),s.Tb(),s.Tb(),s.Ub(46,"p"),s.Lc(47,"Details for your students & stuffs"),s.Tb(),s.Pb(48,"hr"),s.Ub(49,"button",13),s.Lc(50," Students "),s.Ub(51,"i",12),s.Lc(52," list_alt "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(53,"div",4),s.Ub(54,"div",5),s.Ub(55,"div",6),s.Ub(56,"h3",7),s.Ub(57,"b"),s.Lc(58,"Sketch Book"),s.Tb(),s.Tb(),s.Ub(59,"p",10),s.Lc(60,"* Add/Manage Tests and stuffs here"),s.Tb(),s.Pb(61,"hr"),s.Ub(62,"button",13),s.Ub(63,"i",14),s.Lc(64," playlist_add "),s.Tb(),s.Lc(65," TEST "),s.Tb(),s.Pb(66,"i",9),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Pb(67,"ngx-loading",15)),2&e&&(s.Bb(67),s.oc("show",t.loading)("config",s.sc(2,D)))},directives:[u.a,c.c,p.a],styles:[""]}),e})();class A{constructor(e,t,r,o,i,c,a,s,n,d,l){this.Id=e,this.Email=t,this.Image=r,this.Name=o,this.UserId=i,this.AccrNumber=c,this.Status=a,this.CreatedOn=s,this.ModifiedOn=n,this.Courses=d,this.Stars=l}}let R=(()=>{class e{constructor(e,t,r){this.activatedRoute=e,this.errorHandlerService=t,this.teacherService=r,this.loading=!1}ngOnInit(){this.loading=!0,this.teacherService.getTeacherById(this.activatedRoute.snapshot.params.id).subscribe(e=>{this.teacher=new A(e.body.id)},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(c.a),s.Ob(l.a),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-teacher-details"]],decls:13,vars:4,consts:[[1,"row"],[1,"col-md-6","text-center"],[1,"col-md-6"],["src","../../../../../assets/images/no-image-found.jpg","alt","Sample image"],["type","button","routerLink","/teachers",1,"btn","btn-outline-info","ml-3"],[3,"show"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"h4"),s.Lc(3),s.Tb(),s.Ub(4,"h4"),s.Lc(5),s.Tb(),s.Ub(6,"h4"),s.Lc(7),s.Tb(),s.Tb(),s.Ub(8,"div",2),s.Pb(9,"img",3),s.Tb(),s.Ub(10,"button",4),s.Lc(11," Back To Teachers "),s.Tb(),s.Tb(),s.Pb(12,"ngx-loading",5)),2&e&&(s.Bb(3),s.Nc("Name: ",null==t.teacher?null:t.teacher.Name,""),s.Bb(2),s.Nc("Accreditation Number: ",null==t.teacher?null:t.teacher.Id,""),s.Bb(2),s.Nc("Teacher Status: ",null==t.teacher?null:t.teacher.Status,""),s.Bb(5),s.oc("show",t.loading))},directives:[c.c,p.a],encapsulation:2}),e})();var E=r("M9IT"),j=r("Dh3D"),J=r("+0xr"),q=r("iRF1");class z{constructor(e,t,r,o,i,c,a){this.CourseId=e,this.Name=t,this.Description=r,this.IsActive=o,this.StartDate=i,this.EndDate=c,this.Teachers=a}}var H=r("wZkO"),$=r("d3UM"),V=r("FKr1"),G=r("iadO");function Q(e,t){if(1&e){const e=s.Vb();s.Ub(0,"div",6),s.Ub(1,"div",7),s.Ub(2,"form",8),s.Ub(3,"label",9),s.Lc(4,"Course Image"),s.Tb(),s.Ub(5,"div",10),s.Pb(6,"img",11),s.Ub(7,"input",12,13),s.ec("change",function(t){return s.Ac(e),s.ic().onFileSelected(t)}),s.Tb(),s.Pb(9,"br"),s.Ub(10,"button",14),s.ec("click",function(){return s.Ac(e),s.yc(8).click()}),s.Lc(11,"Upload picture"),s.Tb(),s.Ub(12,"button",15),s.ec("click",function(){return s.Ac(e),s.ic().clearPicture()}),s.Lc(13,"Clear Picture"),s.Tb(),s.Tb(),s.Tb(),s.Ub(14,"button",16),s.ec("click",function(){return s.Ac(e),s.ic().editCourseImage()}),s.Lc(15," Update Course Image "),s.Tb(),s.Tb(),s.Ub(16,"div",17),s.Ub(17,"label"),s.Lc(18,"Course Info"),s.Tb(),s.Ub(19,"form",8),s.Ub(20,"div",6),s.Ub(21,"div",17),s.Ub(22,"mat-form-field",18),s.Pb(23,"textarea",19),s.Tb(),s.Pb(24,"br"),s.Ub(25,"mat-form-field",18),s.Pb(26,"textarea",20),s.Tb(),s.Tb(),s.Ub(27,"div",7),s.Ub(28,"mat-form-field",21),s.Ub(29,"mat-label"),s.Lc(30,"Active"),s.Tb(),s.Ub(31,"mat-select",22),s.ec("valueChange",function(t){return s.Ac(e),s.ic().model.IsActive=t}),s.Ub(32,"mat-option",23),s.Lc(33,"True"),s.Tb(),s.Ub(34,"mat-option",24),s.Lc(35,"False"),s.Tb(),s.Tb(),s.Tb(),s.Ub(36,"mat-form-field",21),s.Pb(37,"input",25),s.Pb(38,"mat-datepicker-toggle",26),s.Pb(39,"mat-datepicker",null,27),s.Tb(),s.Ub(41,"mat-form-field",21),s.Pb(42,"input",28),s.Pb(43,"mat-datepicker-toggle",26),s.Pb(44,"mat-datepicker",null,29),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(46,"div",0),s.Ub(47,"button",16),s.ec("click",function(){return s.Ac(e),s.ic().editCourse()}),s.Lc(48," Update Course Info "),s.Tb(),s.Ub(49,"button",30),s.ec("click",function(){return s.Ac(e),s.ic().onRejectClick()}),s.Lc(50," Dismiss "),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=s.yc(40),t=s.yc(45),r=s.ic();s.Bb(2),s.oc("formGroup",r.editCourseImageForm),s.Bb(4),s.oc("src",r.model.Image,s.Cc),s.Bb(8),s.oc("disabled",!r.editCourseImageForm.valid||!r.editCourseImageForm.dirty),s.Bb(5),s.oc("formGroup",r.editCourseForm),s.Bb(12),s.oc("value",r.model.IsActive),s.Bb(6),s.oc("matDatepicker",e),s.Bb(1),s.oc("for",e),s.Bb(4),s.oc("matDatepicker",t),s.Bb(1),s.oc("for",t),s.Bb(4),s.oc("disabled",!r.editCourseForm.valid||!r.editCourseForm.dirty)}}function K(e,t){if(1&e&&(s.Ub(0,"span",38),s.Lc(1),s.Ub(2,"button",39),s.Ub(3,"i",40),s.Lc(4," delete "),s.Tb(),s.Tb(),s.Tb()),2&e){const e=t.$implicit;s.Bb(1),s.Nc(" ",e," ")}}function W(e,t){if(1&e&&(s.Ub(0,"mat-option",41),s.Lc(1),s.Tb()),2&e){const e=t.$implicit;s.pc("value",e.Id),s.Bb(1),s.Mc(e.Name)}}function X(e,t){if(1&e){const e=s.Vb();s.Pb(0,"br"),s.Jc(1,K,5,1,"span",31),s.Pb(2,"br"),s.Pb(3,"br"),s.Ub(4,"div",32),s.Pb(5,"br"),s.Ub(6,"form",8),s.Ub(7,"mat-form-field",33),s.Ub(8,"mat-label",32),s.Lc(9,"Add teacher to course"),s.Tb(),s.Ub(10,"mat-select",34),s.Ub(11,"mat-option",35),s.Lc(12,"--"),s.Tb(),s.Jc(13,W,2,2,"mat-option",36),s.Tb(),s.Tb(),s.Ub(14,"button",37),s.ec("click",function(){return s.Ac(e),s.ic().addTeacher2Course()}),s.Lc(15," Add "),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=s.ic();s.Bb(1),s.oc("ngForOf",e.model.Teachers),s.Bb(5),s.oc("formGroup",e.selectTeacherForm),s.Bb(7),s.oc("ngForOf",e.teachers),s.Bb(1),s.oc("disabled",!e.selectTeacherForm.valid||!e.selectTeacherForm.dirty||"Teacher"===e.selectTeacherForm.controls.Teacher.value)}}function Y(e,t){if(1&e&&(s.Ub(0,"p"),s.Lc(1),s.Tb()),2&e){const e=s.ic();s.Bb(1),s.Nc("Number of enrolled students: ",e.model.EnrolledStudents,"")}}let Z=(()=>{class e{constructor(e,t,r,o){this.dialogRef=e,this.data=t,this.formBuilder=r,this.teacherService=o,this.loading=!1,this.teachers=new Array,this.activeTab=1}ngOnInit(){this.getTeachers(),this.model=this.data.model,this.editCourseForm=this.formBuilder.group({CourseId:[this.data.model.Id],Name:[this.data.model.Name],Description:[this.data.model.Description],IsActive:[this.data.model.IsActive.toString()],StartDate:[this.data.model.StartDate],EndDate:[this.data.model.EndDate]}),this.selectTeacherForm=this.formBuilder.group({Teacher:[""]}),this.editCourseImageForm=this.formBuilder.group({CourseImg:["",i.q.required]}),this.defaultCourseImg=this.model.Image?this.model.Image:"../../../../assets/images/no-profile-img.png",this.model.Image=this.defaultCourseImg}onRejectClick(){this.dialogRef.close()}editCourse(){const e={label:"updateCourseInfo",course:new z(this.editCourseForm.controls.CourseId.value,this.editCourseForm.controls.Name.value,this.editCourseForm.controls.Description.value,this.editCourseForm.controls.IsActive.value,this.editCourseForm.controls.StartDate.value,this.editCourseForm.controls.EndDate.value)};this.dialogRef.close(e)}editCourseImage(){this.dialogRef.close({label:"updateCoursePicture",img2base64:this.model.Image})}addTeacher2Course(){const e={label:"addTeacher2Course",teacher:{id:this.teachers.find(e=>e.Id===this.selectTeacherForm.controls.Teacher.value).Id,userId:this.teachers.find(e=>e.Id===this.selectTeacherForm.controls.Teacher.value).UserId,accrNumber:this.teachers.find(e=>e.Id===this.selectTeacherForm.controls.Teacher.value).AccrNumber}};this.dialogRef.close(e)}clearPicture(){this.model.Image=this.defaultCourseImg,this.editCourseImageForm.controls.CourseImg.setValue("")}onFileSelected(e){e.target.files.length>0&&this.resizeImage(e.target.files[0],800,600).then(e=>{const t=new FileReader;t.onload=e=>{this.model.Image=t.result.toString()},t.readAsDataURL(e)},e=>{console.error("Photo error!",e),this.model.Image=this.defaultCourseImg})}getTeachers(){this.teacherService.getTeachers().subscribe(e=>{e.body.forEach(e=>{this.teachers.push({Id:e.id||"",Email:e.email||"",Image:e.image||"",Name:e.name||"",UserId:e.user_id||"",AccrNumber:e.accr_number||"",Status:e.status||"",CreatedOn:e.created_on,ModifiedOn:e.modified_on,Courses:e.courses||""})})})}resizeImage(e,t,r){return new Promise((o,i)=>{const c=new Image;c.src=URL.createObjectURL(e),c.onload=()=>{const i=c.width,a=c.height;let s,n;i<=t&&a<=r&&o(e),i>a?(n=a*(t/i),s=t):(s=i*(r/a),n=r);const d=document.createElement("canvas");d.width=s,d.height=n,d.getContext("2d").drawImage(c,0,0,s,n),d.toBlob(o,e.type)},c.onerror=i})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(a.e),s.Ob(a.a),s.Ob(i.d),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-edit-course"]],decls:17,vars:7,consts:[[1,"text-center"],[2,"overflow","hidden",3,"selectedIndex"],["label","Overall Info"],["matTabContent",""],["label","Leading Teachers"],["label","Enrolled Students"],[1,"row"],[1,"col-md-4"],[3,"formGroup"],["for","CourseImg"],[1,"thumb-holder"],["alt","Course picture",1,"courseImg","img-fluid","img-thumbnail",3,"src"],["type","file","formControlName","CourseImg","accept","image/*",2,"display","none",3,"change"],["courseImage",""],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["mat-stroked-button","","color","warn",1,"m-2",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-md-8"],[1,"w-100"],["matInput","","formControlName","Name","placeholder","Name","cols","30","rows","2"],["matInput","","formControlName","Description","placeholder","Description (raw html is accepted)","rows","10"],[1,"w-75"],["formControlName","IsActive",3,"value","valueChange"],["value","true"],["value","false"],["matInput","","formControlName","StartDate","placeholder","Start Date",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","EndDate","placeholder","End Date",3,"matDatepicker"],["endDatePicker",""],["mat-stroked-button","","color","warn",2,"width","15%",3,"click"],["class","text-left","style","float: left; \n                    padding: 10px;",4,"ngFor","ngForOf"],[1,"text-left"],[1,"w-25"],["formControlName","Teacher","matInput",""],["value","Teacher"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",2,"width","10%",3,"disabled","click"],[1,"text-left",2,"float","left","padding","10px"],["mat-stroked-button","","color","warn"],[1,"material-icons"],[3,"value"]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"h3"),s.Lc(2),s.Tb(),s.Ub(3,"h5"),s.Lc(4),s.Tb(),s.Pb(5,"hr"),s.Ub(6,"mat-tab-group",1),s.Ub(7,"mat-tab",2),s.Jc(8,Q,51,10,"ng-template",3),s.Tb(),s.Ub(9,"mat-tab",4),s.Jc(10,X,16,4,"ng-template",3),s.Tb(),s.Ub(11,"mat-tab",5),s.Jc(12,Y,2,1,"ng-template",3),s.Tb(),s.Tb(),s.Pb(13,"hr"),s.Ub(14,"p"),s.Lc(15),s.jc(16,"date"),s.Tb(),s.Tb()),2&e&&(s.Bb(2),s.Mc((null==t.editCourseForm.value?null:t.editCourseForm.value.Name)||"N/A"),s.Bb(2),s.Nc("ID : ",t.model.Id,""),s.Bb(2),s.oc("selectedIndex",t.activeTab),s.Bb(9),s.Nc("Modified On: ",s.lc(16,4,t.model.ModifiedOn,"dd-MMM-yy hh:mm:ss a"),""))},directives:[H.c,H.a,H.b,i.s,i.l,i.f,i.c,i.k,i.e,u.a,O.c,k.b,O.f,$.a,V.m,G.b,G.d,O.g,G.a,o.l],pipes:[o.e],styles:[".img-fluid[_ngcontent-%COMP%]{width:100%;height:15vw;-o-object-fit:contain;object-fit:contain}button[_ngcontent-%COMP%]{margin:5px}mat-form-field[_ngcontent-%COMP%]{margin:5px;text-align:center}textarea[_ngcontent-%COMP%]{overflow:hidden;text-align:left}@media only screen and (max-width:576px){mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),e})(),ee=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.loading=!1}ngOnInit(){this.model=this.data}dismiss(){this.dialogRef.close()}delete(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(a.e),s.Ob(a.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-delete-entity"]],decls:16,vars:3,consts:[[1,"text-center"],["mat-raised-button","",1,"ml-3",3,"click"],["mat-raised-button","","color","warn",1,"ml-3",3,"click"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"h3"),s.Lc(2,"Warning!!!"),s.Tb(),s.Ub(3,"mat-card-content"),s.Pb(4,"hr"),s.Ub(5,"h5"),s.Lc(6),s.Tb(),s.Ub(7,"h5"),s.Lc(8,"This action can't be undone!"),s.Tb(),s.Ub(9,"h5"),s.Lc(10,"Delete anyway?"),s.Tb(),s.Pb(11,"hr"),s.Ub(12,"button",1),s.ec("click",function(){return t.dismiss()}),s.Lc(13),s.Tb(),s.Ub(14,"button",2),s.ec("click",function(){return t.delete()}),s.Lc(15),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(6),s.Mc(t.model.title),s.Bb(7),s.Mc(t.model.rejectText),s.Bb(2),s.Mc(t.model.confirmText))},directives:[b.a,u.a],styles:["mat-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}"]}),e})();var te=r("hDlN");function re(e,t){1&e&&(s.Ub(0,"mat-error"),s.Lc(1," Course Name is required! "),s.Tb())}let oe=(()=>{class e{constructor(e,t,r,o,c,a){this.dialogRef=e,this.data=t,this.formBuilder=r,this.snackbar=o,this.errorHandlerService=c,this.coursesService=a,this.loading=!1,this.addCourseForm=this.formBuilder.group({courseName:["",i.q.required]})}ngOnInit(){}createCourse(){this.loading=!0,this.dialogRef.close({Name:this.addCourseForm.value.courseName}),this.loading=!1}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(a.e),s.Ob(a.a),s.Ob(i.d),s.Ob(m.a),s.Ob(l.a),s.Ob(te.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-create-course"]],decls:7,vars:3,consts:[["mat-dialog-content","",1,"row","justify-content-center"],[1,"text-center",3,"formGroup"],[1,"w-75"],["type","text","matInput","","formControlName","courseName","placeholder","Course Name:","required",""],[4,"ngIf"],["mat-raised-button","","color","primary",1,"ml-3",3,"disabled","click"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"form",1),s.Ub(2,"mat-form-field",2),s.Pb(3,"input",3),s.Jc(4,re,2,0,"mat-error",4),s.Tb(),s.Ub(5,"button",5),s.ec("click",function(){return t.createCourse()}),s.Lc(6," Add Course "),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(1),s.oc("formGroup",t.addCourseForm),s.Bb(3),s.oc("ngIf",t.addCourseForm.get("courseName").hasError("required")),s.Bb(1),s.oc("disabled",!t.addCourseForm.valid||!t.addCourseForm.dirty))},directives:[a.c,i.s,i.l,i.f,O.c,k.b,i.c,i.k,i.e,i.p,o.m,u.a,O.b],styles:[""]}),e})();var ie=r("7EHt");function ce(e,t){1&e&&(s.Ub(0,"th",31),s.Lc(1," No. "),s.Tb())}function ae(e,t){if(1&e&&(s.Ub(0,"td",32),s.Lc(1),s.Tb()),2&e){const e=t.dataIndex;s.Bb(1),s.Nc(" ",e+1," ")}}function se(e,t){1&e&&(s.Ub(0,"th",33),s.Lc(1," Id "),s.Tb())}function ne(e,t){if(1&e&&(s.Ub(0,"td",32),s.Lc(1),s.Tb()),2&e){const e=t.$implicit;s.Bb(1),s.Nc(" ",e.Id," ")}}function de(e,t){1&e&&(s.Ub(0,"th",33),s.Lc(1," Name "),s.Tb())}function le(e,t){if(1&e&&(s.Ub(0,"td",32),s.Lc(1),s.Tb()),2&e){const e=t.$implicit;s.Bb(1),s.Nc(" ",e.Name," ")}}function be(e,t){1&e&&(s.Ub(0,"th",33),s.Lc(1," Enrolled Students "),s.Tb())}function ue(e,t){if(1&e&&(s.Ub(0,"td",32),s.Lc(1),s.Tb()),2&e){const e=t.$implicit;s.Bb(1),s.Nc(" ",e.EnrolledStudents," ")}}function he(e,t){1&e&&(s.Ub(0,"th",33),s.Lc(1," Pending Enroll Requests "),s.Tb())}function me(e,t){1&e&&(s.Ub(0,"td",32),s.Lc(1," n/a "),s.Tb())}function fe(e,t){1&e&&(s.Ub(0,"th",33),s.Lc(1," Teachers "),s.Tb())}function ge(e,t){1&e&&(s.Ub(0,"td",32),s.Lc(1," n/a "),s.Tb())}function pe(e,t){1&e&&(s.Ub(0,"th",31),s.Lc(1," Properties "),s.Tb())}function Te(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",34),s.Ub(1,"button",35),s.ec("click",function(){s.Ac(e);const r=t.$implicit;return s.ic().editCourse(r.Id)}),s.Ub(2,"i",3),s.Lc(3," zoom_in "),s.Tb(),s.Tb(),s.Ub(4,"button",36),s.ec("click",function(){s.Ac(e);const r=t.$implicit;return s.ic().deleteCourse(r.Id)}),s.Pb(5,"i",37),s.Tb(),s.Tb()}}function Ce(e,t){1&e&&s.Pb(0,"tr",38)}function Ue(e,t){1&e&&s.Pb(0,"tr",39)}function ve(e,t){1&e&&(s.Ub(0,"h2"),s.Lc(1,"Please wait! Fetching data from the server..."),s.Tb())}const Pe=function(){return["/dashboard"]},Ie=function(){return["/teachers/craftsman-menu"]},Se=function(){return[10,20,30,100]},ye=[{path:"",children:[{path:"",component:P},{path:"craftsman-menu",component:F},{path:"craftsman-menu/courses",component:(()=>{class e{constructor(e,t,r,o,i){this.coursesService=e,this.errorHandlerService=t,this.dialog=r,this.snackbar=o,this.teacherService=i,this.displayedColumns=["#","Id","Name","Start Date","End Date","Active","Electable","Enrolled Students","Pending Enroll Requests","Teachers","Properties"],this.courses=new Array,this.loading=!1,this.totalCourses=0}ngOnInit(){this.getCourses()}applyFilter(){const e=document.querySelector("#teacherNameFilter").value,t=document.querySelector("#courseNameFilter").value;this.dataSource.filterPredicate=(e,t)=>-1!==e.Name.trim().toLowerCase().indexOf(t.split("\u253c")[1]),this.dataSource.filter=`${e.trim().toLowerCase()}\u253c${t.trim()}`,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}createCourse(){const e=this.dialog.open(oe,{width:"50vw"});this.tryCreateCourse(e)}editCourse(e){this.coursesService.getCourseById(e).subscribe(t=>{const r=this.openEditCourseModal(t);this.tryUpdateCourse(r,e)})}deleteCourse(e){const t=this.dialog.open(ee,{data:{title:`This will delete course with Id ${e}!`,confirmText:"Delete",rejectText:"Dismiss",model:e}});this.tryDeleteCourse(t,e)}deleteAllCourses(){const e=this.dialog.open(ee,{data:{title:"This will delete all courses!",confirmText:"Delete All",rejectText:"Dismiss"}});this.tryDeleteAllCourses(e)}getCourses(){this.loading=!0,this.coursesService.getCoursesPreview().subscribe(e=>{e.body.forEach(e=>{this.courses.push({Id:e.id,Name:e.name,Teachers:e.teachers,Description:e.description,StartDate:e.start_date,EndDate:e.end_date,ModifiedOn:e.modified_on,Image:e.image,IsActive:e.is_active,IsElectable:e.is_electable,EnrolledStudents:e.enrolled_students,EnrolledUserId:e.enrolled_user_id})}),this.dataSource=new J.k(this.courses),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.loading=!1},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.totalCourses=this.courses.length})}openEditCourseModal(e){return this.dialog.open(Z,{width:"80vw",maxHeight:"100vh",data:{model:new q.a(e.body.id,e.body.name,e.body.description,e.body.teachers,e.body.start_date,e.body.end_date,e.body.modified_on,e.body.is_electable,e.body.is_active,e.body.image,e.body.enrolled_students)},autoFocus:!1})}tryUpdateCourse(e,t){this.loading=!0,e.afterClosed().subscribe(e=>{e&&(Object.values(e).includes("updateCourseInfo")?this.updateCourseInfo(e.course):Object.values(e).includes("updateCoursePicture")?this.updateCoursePicture(e.img2base64,t):Object.values(e).includes("addTeacher2Course")&&this.addTeacherCourse(e.teacher,t))}),this.loading=!1}updateCourseInfo(e){this.coursesService.updateCourse({CourseId:e.CourseId,Name:e.Name,Description:e.Description,IsActive:e.IsActive,StartDate:e.StartDate,EndDate:e.EndDate}).subscribe(t=>{this.loading=!0,this.handleSuccess(e.CourseId)},e=>{this.handleError(e)})}updateCoursePicture(e,t){this.coursesService.updateCoursePicture({CourseId:t,ImageAsBase64:e}).subscribe(()=>{this.handleSuccess(t)},e=>{this.handleError(e)})}addTeacherCourse(e,t){this.teacherService.addTeacher2Course({TeacherId:e.id,UserId:e.userId,AccrNumber:e.accrNumber,CourseId:t}).subscribe(()=>{this.handleSuccess(t)},e=>{this.handleError(e)})}handleSuccess(e){this.coursesService.getCourseById(e).subscribe(t=>{const r=new q.a(t.body.id,t.body.name,t.body.description,t.body.teachers,t.body.start_date,t.body.end_date,t.body.modified_on,t.body.is_active,t.body.is_electable,t.body.image,t.body.enrolled_students);this.courses.splice(this.courses.findIndex(t=>t.Id===e),1,r),this.dataSource.data=this.courses,this.loading=!1,this.snackbar.open("Course with ID: "+r.Id+" updated successfully.","OK",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:"successSnackbar"})})}handleError(e){this.errorHandlerService.handleRequestError(e),this.loading=!1,this.snackbar.open("Course cannot be updated!","OK",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:"dangerSnackbar"})}tryDeleteCourse(e,t){e.afterClosed().subscribe(e=>{e&&(this.loading=!0,this.coursesService.deleteCourse({CourseId:t}).subscribe(e=>{this.loading=!1,this.courses=new Array,this.getCourses(),this.snackbar.open("Course was deleted successfuly!","X",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:"successSnackbar"})},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.loading=!1}))})}tryDeleteAllCourses(e){e.afterClosed().subscribe(e=>{e&&this.coursesService.deleteAllCourses().subscribe(e=>{this.loading=!0,this.courses=new Array,this.getCourses(),this.snackbar.open("All courses deleted successfully.","X",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:"successSnackbar"})},e=>{this.errorHandlerService.handleRequestError(e),this.loading=!1},()=>{this.loading=!1})})}tryCreateCourse(e){e.afterClosed().subscribe(e=>{e&&this.coursesService.createCourse({Name:e.Name}).subscribe(e=>{this.loading=!1,this.courses=new Array,this.getCourses(),this.snackbar.open(""+e,"X",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"successSnackbar"})},e=>{this.loading=!1,this.errorHandlerService.handleRequestError(e)})})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(te.a),s.Ob(l.a),s.Ob(a.b),s.Ob(m.a),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-courses-details"]],viewQuery:function(e,t){if(1&e&&(s.Pc(E.a,!0),s.Pc(j.a,!0)),2&e){let e;s.xc(e=s.fc())&&(t.paginator=e.first),s.xc(e=s.fc())&&(t.sort=e.first)}},decls:54,vars:13,consts:[[1,"text-center"],["id","filters"],[3,"expanded"],[1,"material-icons"],[1,"row","justify-content-left"],[1,"col-sm-2"],["type","text","matInput","","id","teacherNameFilter","placeholder","Teacher Name",3,"keyup"],["type","text","matInput","","id","courseNameFilter","placeholder","Course Name",3,"keyup"],[2,"float","left"],["mat-raised-button","","color","primary",1,"m-2",3,"routerLink"],[2,"float","right"],["mat-raised-button","","color","primary",1,"m-2",3,"click"],[1,"material-icons",2,"font-size","1.8em"],["id","listCourses",1,"mat-elevation-z8","table-responsive"],["mat-table","","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Name"],["matColumnDef","Enrolled Students"],["matColumnDef","Pending Enroll Requests"],["matColumnDef","Teachers"],["matColumnDef","Properties"],["style","cursor: pointer;","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[4,"ngIf"],[3,"show"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"cursor","pointer"],["mat-raised-button","","color","primary",1,"mr-2",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"far","fa-trash-alt",2,"font-size","1.2em"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Ub(0,"h1",0),s.Lc(1,"Courses Settings"),s.Tb(),s.Ub(2,"h5",0),s.Lc(3),s.Tb(),s.Ub(4,"div",1),s.Ub(5,"mat-expansion-panel",2),s.Ub(6,"mat-expansion-panel-header"),s.Ub(7,"mat-panel-title"),s.Ub(8,"i",3),s.Lc(9,"search"),s.Tb(),s.Lc(10," ... "),s.Tb(),s.Tb(),s.Ub(11,"div",4),s.Ub(12,"mat-form-field",5),s.Ub(13,"input",6),s.ec("keyup",function(){return t.applyFilter()}),s.Tb(),s.Tb(),s.Ub(14,"mat-form-field",5),s.Ub(15,"input",7),s.ec("keyup",function(){return t.applyFilter()}),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(16,"h4",8),s.Ub(17,"button",9),s.Lc(18," Dashboard "),s.Tb(),s.Ub(19,"button",9),s.Lc(20," Craftsman Menu "),s.Tb(),s.Tb(),s.Ub(21,"h4",10),s.Ub(22,"button",11),s.ec("click",function(){return t.createCourse()}),s.Ub(23,"i",12),s.Lc(24," playlist_add "),s.Tb(),s.Lc(25," Add Course "),s.Tb(),s.Tb(),s.Ub(26,"div",13),s.Ub(27,"table",14),s.Sb(28,15),s.Jc(29,ce,2,0,"th",16),s.Jc(30,ae,2,1,"td",17),s.Rb(),s.Sb(31,18),s.Jc(32,se,2,0,"th",19),s.Jc(33,ne,2,1,"td",17),s.Rb(),s.Sb(34,20),s.Jc(35,de,2,0,"th",19),s.Jc(36,le,2,1,"td",17),s.Rb(),s.Sb(37,21),s.Jc(38,be,2,0,"th",19),s.Jc(39,ue,2,1,"td",17),s.Rb(),s.Sb(40,22),s.Jc(41,he,2,0,"th",19),s.Jc(42,me,2,0,"td",17),s.Rb(),s.Sb(43,23),s.Jc(44,fe,2,0,"th",19),s.Jc(45,ge,2,0,"td",17),s.Rb(),s.Sb(46,24),s.Jc(47,pe,2,0,"th",16),s.Jc(48,Te,6,0,"td",25),s.Rb(),s.Jc(49,Ce,1,0,"tr",26),s.Jc(50,Ue,1,0,"tr",27),s.Tb(),s.Pb(51,"mat-paginator",28),s.Tb(),s.Jc(52,ve,2,0,"h2",29),s.Pb(53,"ngx-loading",30)),2&e&&(s.Bb(3),s.Nc("Total of: ",t.totalCourses,""),s.Bb(2),s.oc("expanded",!1),s.Bb(12),s.oc("routerLink",s.sc(10,Pe)),s.Bb(2),s.oc("routerLink",s.sc(11,Ie)),s.Bb(8),s.oc("dataSource",t.dataSource),s.Bb(22),s.oc("matHeaderRowDef",t.displayedColumns),s.Bb(1),s.oc("matRowDefColumns",t.displayedColumns),s.Bb(1),s.oc("pageSizeOptions",s.sc(12,Se)),s.Bb(1),s.oc("ngIf",t.loading),s.Bb(1),s.oc("show",t.loading))},directives:[ie.b,ie.c,ie.d,O.c,k.b,u.a,c.c,J.j,j.a,J.c,J.e,J.b,J.g,J.i,E.a,o.m,p.a,J.d,J.a,j.b,J.f,J.h],styles:["#filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{font-size:1.3em;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}#filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:100px}#listCourses[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}#listCourses[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-description[_ngcontent-%COMP%]{padding:16px}.img-thumbnail[_ngcontent-%COMP%]{width:100%;height:15vw;-o-object-fit:contain;object-fit:contain}.mat-cell[_ngcontent-%COMP%]{padding-right:10px}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:rgba(13,212,247,.171)}"]}),e})()},{path:":id",component:R}]}];let we=(()=>{class e{}return e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({factory:function(t){return new(t||e)},imports:[[o.c,c.e.forChild(ye)],c.e]}),e})();var Le=r("w/ci");let Oe=(()=>{class e{}return e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({factory:function(t){return new(t||e)},imports:[[o.c,we,Le.a,i.o,p.b.forRoot({animationType:p.c.threeBounce,primaryColour:"#88078e",secondaryColour:"#c6ef23",backdropBorderRadius:"14px",fullScreenBackdrop:!0})]]}),e})()}}]);
//# sourceMappingURL=5-es2015.be32f849137654558196.js.map