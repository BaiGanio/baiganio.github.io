
<ngx-loading [show]="loading"></ngx-loading>

<h1 class="title">Register</h1>
<hr>
<br>
<div class="row justify-content-center">
    <div class="dim" *ngIf='registrationError'>
      <div class="msg">
        <h1 innerHtml={{registrationErrorMessage}}></h1>
        <br><br>
        <button class="btn btn-outline-info" (click)=dismiss() style="width:10%">
          Dismiss
        </button>
      </div>
    </div>

    <div class="dim" *ngIf='registrationSuccess'>
      <div class="msg">
        <h1 innerHtml={{registrationSuccessMessage}}></h1>
        <br><br>
        <button class="btn btn-outline-info" (click)=dismiss() style="width:10%">
          Dismiss
        </button>
      </div>
    </div>

    <div class="col-xl-8">
      <section id="viewRegister">
        <form [formGroup]="registerForm" (ngSubmit)="register()">
          <mat-form-field class="w-100 mb-3">
            <input type="email" matInput formControlName="email" placeholder="Email">
            <mat-error *ngIf="registerForm.get('email').hasError('required')">This field is required!</mat-error>
            <mat-error *ngIf="registerForm.get('email').hasError('email')">Invalid input format!</mat-error>
          </mat-form-field>
          <br>
          <mat-form-field class="w-100 mb-5">
            <input type="password" matInput formControlName="password" placeholder="Password">
            <mat-error *ngIf="registerForm.get('password').hasError('required')">This field is required!</mat-error>
            <mat-error *ngIf="registerForm.get('password').hasError('minlength')">Min lenght should be 6 characters!
            </mat-error>
          </mat-form-field>
          <br>
          <mat-checkbox color="primary" formControlName="acceptedTerms">
            <span id="terms" (click)="getTerms()">Terms of Use</span>
          </mat-checkbox>
          <mat-error *ngIf="registerForm.get('acceptedTerms').hasError('requiredtrue')">
            You need to accept the Terms!
          </mat-error>
          <br>
          <input type="submit" class="register-button" value="GO" [disabled]="!registerForm.valid">
        </form>
      </section>
    </div>
</div>
<div class="row">
  <div class="col-12 mb-4 text-center">
    <button  class='have-account'
      mat-raised-button
      routerLink="/login">
      Have an account?
    </button>
  </div>
</div>
